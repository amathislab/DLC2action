<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>dlc2action.data.base_store API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../data.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;dlc2action.data</a>

            <img src="https://i.ibb.co/NstG5hz/03.png" class="logo" alt="project logo"/>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Store">Store</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Store.remove">remove</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.key_objects">key_objects</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.load_from_key_objects">load_from_key_objects</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.to_ram">to_ram</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.get_original_coordinates">get_original_coordinates</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.create_subsample">create_subsample</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.get_file_ids">get_file_ids</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.get_parameters">get_parameters</a>
                        </li>
                        <li>
                                <a class="function" href="#Store.new">new</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#InputStore">InputStore</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#InputStore.__init__">InputStore</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_video_id">get_video_id</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_clip_id">get_clip_id</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_clip_length">get_clip_length</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_clip_start_end">get_clip_start_end</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_clip_start">get_clip_start</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_visibility">get_visibility</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_annotation_objects">get_annotation_objects</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_folder">get_folder</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_clip_length_from_coords">get_clip_length_from_coords</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_folder_order">get_folder_order</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_video_id_order">get_video_id_order</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_tag">get_tag</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_indices">get_indices</a>
                        </li>
                        <li>
                                <a class="function" href="#InputStore.get_tags">get_tags</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#BehaviorStore">BehaviorStore</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#BehaviorStore.__init__">BehaviorStore</a>
                        </li>
                        <li>
                                <a class="variable" href="#BehaviorStore.required_objects">required_objects</a>
                        </li>
                        <li>
                                <a class="function" href="#BehaviorStore.get_len">get_len</a>
                        </li>
                        <li>
                                <a class="function" href="#BehaviorStore.count_classes">count_classes</a>
                        </li>
                        <li>
                                <a class="function" href="#BehaviorStore.behaviors_dict">behaviors_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#BehaviorStore.annotation_class">annotation_class</a>
                        </li>
                        <li>
                                <a class="function" href="#BehaviorStore.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#BehaviorStore.filtered_indices">filtered_indices</a>
                        </li>
                        <li>
                                <a class="function" href="#BehaviorStore.set_pseudo_labels">set_pseudo_labels</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PoseInputStore">PoseInputStore</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PoseInputStore.get_likelihood">get_likelihood</a>
                        </li>
                        <li>
                                <a class="function" href="#PoseInputStore.get_coords">get_coords</a>
                        </li>
                        <li>
                                <a class="function" href="#PoseInputStore.get_bodyparts">get_bodyparts</a>
                        </li>
                        <li>
                                <a class="function" href="#PoseInputStore.get_n_frames">get_n_frames</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../dlc2action.html">dlc2action</a><wbr>.<a href="./../data.html">data</a><wbr>.base_store    </h1>

                        <div class="docstring"><p>Abstract parent classes for the data store objects.</p>
</div>

                        <input id="mod-base_store-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-base_store-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="c1">#</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="c1"># Copyright 2020-present by A. Mathis Group and contributors. All rights reserved.</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="c1">#</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="c1"># This project and all its files are licensed under GNU AGPLv3 or later version. </span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="c1"># A copy is included in dlc2action/LICENSE.AGPL.</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="c1">#</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="sd">&quot;&quot;&quot;Abstract parent classes for the data store objects.&quot;&quot;&quot;</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">inspect</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">os.path</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Store</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>  <span class="c1"># +</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A general parent class for `BehaviorStore` and `InputStore`.</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="sd">    Processes input video information and generates ordered arrays of data samples and corresponding unique</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="sd">    original coordinates, as well as some meta objects.</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="sd">    It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="sd">    Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">    The original coordinates object contains information about the video_id, clip_id and start time of the</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="sd">    samples in the original input data.</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="sd">    A Store has to be fully defined with a tuple of key objects.</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="sd">    The data array can be accessed with integer indices.</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="sd">    The samples can be stored as a tensor or TensorDict in RAM or as an array of file paths to be loaded on runtime.</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the number of available samples.</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="sd">        Returns</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">        -------</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">        length : int</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">            the number of available samples</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the samples corresponding to indices.</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="sd">        Parameters</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="sd">        ----------</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="sd">        indices : int</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="sd">            a list of integer indices to remove</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">key_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">:</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a tuple of the key objects necessary to re-create the Store.</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">        Returns</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="sd">        -------</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        key_objects : tuple</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_from_key_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Load the information from a tuple of key objects.</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        Parameters</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span class="sd">        ----------</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="sd">        key_objects : tuple</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_ram</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Transfer the data samples to RAM if they were previously stored as file paths.&quot;&quot;&quot;</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_original_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the original coordinates array.</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="sd">        Returns</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="sd">        -------</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="sd">        np.ndarray</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="sd">            an array that contains the coordinates of the data samples in original input data (video id, clip id,</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a><span class="sd">            start frame)</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_subsample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">,</span> <span class="n">ssl_indices</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new store that contains a subsample of the data.</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="sd">        Parameters</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">        ----------</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">        indices : list</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">            the indices to be included in the subsample</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">        ssl_indices : list, optional</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="sd">            the indices to be included in the subsample without the annotation data</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_file_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of ids.</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="sd">        Process data parameters and return a list of ids of the videos that should</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span class="sd">        be processed by the `__init__` function.</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="sd">        Parameters</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a><span class="sd">        ----------</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span class="sd">        *args</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="sd">            positional arguments</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="sd">        **kwargs</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">            keyword arguments</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">        Returns</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">        -------</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a><span class="sd">        video_ids : list</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="sd">            a list of video file ids</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_parameters</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a list of parameter names for the `__init__` function.</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a><span class="sd">        Returns</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a><span class="sd">        -------</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a><span class="sd">        parameter_names: list</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a><span class="sd">            a list of necessary parameter names</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span><span class="o">.</span><span class="n">args</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new instance of the same class.</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a><span class="sd">        Returns</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="sd">        -------</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="sd">        new_instance : Store</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a><span class="sd">            a new instance of the same class</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">()</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="k">class</span><span class="w"> </span><span class="nc">InputStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>  <span class="c1"># +</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class that generates model input data from video information and stores it.</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="sd">    Processes input video information and generates ordered arrays of data samples and corresponding unique</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a><span class="sd">    original coordinates, as well as some meta objects.</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="sd">    It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a><span class="sd">    Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span class="sd">    The original coordinates object contains information about the video_id, clip_id and start time of the</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="sd">    samples in the original input data.</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a><span class="sd">    An InputStore has to be fully defined with a tuple of key objects.</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a><span class="sd">    The data array can be accessed with integer indices.</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a><span class="sd">    The samples can be stored as a TensorDict in RAM or as an array of file paths to be loaded on runtime.</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a><span class="sd">    When no arguments are passed a blank class instance should be created that can later be filled with</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a><span class="sd">    information from key objects</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>        <span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>        <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>        <span class="n">data_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        <span class="n">file_paths</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>        <span class="n">feature_save_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>        <span class="n">feature_extraction_pars</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>        <span class="o">**</span><span class="n">kwargs</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>    <span class="p">):</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a class instance.</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span class="sd">        Parameters</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span class="sd">        ----------</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a><span class="sd">        video_order : list, optional</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="sd">            a list of video ids that should be processed in the same order (not passed if creating from key objects)</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a><span class="sd">        key_objects : tuple, optional</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="sd">        data_path : str | set, optional</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="sd">            the path to the folder where the pose and feature files are stored or a set of such paths</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">            (not passed if creating from key objects or from `file_paths`)</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">        file_paths : set, optional</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a><span class="sd">            a set of string paths to the pose and feature files</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">            (not passed if creating from key objects or from `data_path`)</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span class="sd">        feature_save_path : str, optional</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a><span class="sd">            the path to the folder where pre-processed files are stored (not passed if creating from key objects)</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">        feature_extraction_pars : dict, optional</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="sd">            a dictionary of feature extraction parameters (not passed if creating from key objects)</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>        <span class="k">if</span> <span class="n">key_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">load_from_key_objects</span><span class="p">(</span><span class="n">key_objects</span><span class="p">)</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the sample corresponding to an index.</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a><span class="sd">        Parameters</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a><span class="sd">        ----------</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="sd">        ind : int</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="sd">            index of the sample</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a><span class="sd">        Returns</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a><span class="sd">        -------</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a><span class="sd">        sample : dict</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">            the corresponding sample (a dictionary of features)</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_video_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the video id from an element of original coordinates.</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a><span class="sd">        Parameters</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a><span class="sd">        ----------</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a><span class="sd">        coords : tuple</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a><span class="sd">        Returns</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a><span class="sd">        -------</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a><span class="sd">        video_id: str</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="sd">            the id of the video that the coordinates point to</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip id from an element of original coordinates.</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a><span class="sd">        Parameters</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a><span class="sd">        ----------</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="sd">        coords : tuple</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="sd">        Returns</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a><span class="sd">        -------</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a><span class="sd">        clip_id : str</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a><span class="sd">            the id of the clip that the coordinates point to</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip length from the id.</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a><span class="sd">        Parameters</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a><span class="sd">        ----------</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a><span class="sd">        video_id : str</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a><span class="sd">            the video id</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a><span class="sd">        clip_id : str</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a><span class="sd">            the clip id</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a><span class="sd">        Returns</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a><span class="sd">        -------</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a><span class="sd">        clip_length : int</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="sd">            the length of the clip</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_start_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip start and end frames from an element of original coordinates.</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a><span class="sd">        Parameters</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a><span class="sd">        ----------</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a><span class="sd">        coords : tuple</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a><span class="sd">            an element of original coordinates array</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a><span class="sd">        Returns</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a><span class="sd">        -------</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a><span class="sd">        start: int</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a><span class="sd">            the start frame of the clip that the coordinates point to</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a><span class="sd">        end : int</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a><span class="sd">            the end frame of the clip that the coordinates point to</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip start frame from the video id and the clip id.</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="sd">        Parameters</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a><span class="sd">        ----------</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a><span class="sd">        video_id : str</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a><span class="sd">            the video id</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a><span class="sd">        clip_id : str</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a><span class="sd">            the clip id</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a><span class="sd">        Returns</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a><span class="sd">        -------</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a><span class="sd">        clip_start : int</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a><span class="sd">            the start frame of the clip</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_visibility</span><span class="p">(</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">score</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the fraction of the frames in that have a visibility score better than a hard_threshold.</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a><span class="sd">        For example, in the case of keypoint data the visibility score can be the number of identified keypoints.</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a><span class="sd">        Parameters</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a><span class="sd">        ----------</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a><span class="sd">        video_id : str</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a><span class="sd">            the video id of the frames</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a><span class="sd">        clip_id : str</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a><span class="sd">            the clip id of the frames</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a><span class="sd">        start : int</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="sd">            the start frame</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a><span class="sd">        end : int</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a><span class="sd">            the end frame</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a><span class="sd">        score : float</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a><span class="sd">            the visibility score hard_threshold</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a><span class="sd">        Returns</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a><span class="sd">        -------</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a><span class="sd">        frac_visible: float</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a><span class="sd">            the fraction of frames with visibility above the hard_threshold</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_annotation_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary of objects necessary to create an `BehaviorStore`.</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a><span class="sd">        Returns</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a><span class="sd">        -------</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a><span class="sd">        annotation_objects : dict</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a><span class="sd">            a dictionary of objects to be passed to the BehaviorStore constructor where the keys are the names of</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a><span class="sd">            the objects</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the input folder that the file with this video id was read from.</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="sd">        Parameters</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a><span class="sd">        ----------</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a><span class="sd">        video_id : str</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a><span class="sd">            the video id</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a><span class="sd">        Returns</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a><span class="sd">        -------</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a><span class="sd">        folder : str</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a><span class="sd">            the path to the directory that contains the input file associated with the video id</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_length_from_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of a clip from an element of the original coordinates array.</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a><span class="sd">        Parameters</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a><span class="sd">        ----------</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a><span class="sd">        coords : tuple</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a><span class="sd">        Returns</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="sd">        -------</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a><span class="sd">        clip_length : int</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="sd">            the length of the clip</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>        <span class="n">v_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_video_id</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>        <span class="n">clip_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_clip_id</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_clip_length</span><span class="p">(</span><span class="n">v_id</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">)</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>        <span class="k">return</span> <span class="n">l</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_folder_order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of folders corresponding to the data samples.</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a><span class="sd">        Returns</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a><span class="sd">        -------</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a><span class="sd">        folder_order : list</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a><span class="sd">            a list of string folder basenames corresponding to the data samples (e.g. &#39;folder2&#39;</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a><span class="sd">            if the corresponding file was read from &#39;/path/to/folder1/folder2&#39;)</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_folder</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_video_id_order</span><span class="p">()]</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_video_id_order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of video ids corresponding to the data samples.</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a><span class="sd">        Returns</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a><span class="sd">        -------</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a><span class="sd">        video_id_order : list</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a><span class="sd">            a list of string names of the video ids corresponding to the data samples</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_video_id</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_original_coordinates</span><span class="p">()]</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a tag object corresponding to an index.</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a><span class="sd">        Tags can carry meta information (like annotator id) and are accepted by models that require</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="sd">        that information and by metrics (some metrics have options for averaging over the tags).</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a><span class="sd">        When a tag is `None`, it is not passed to the model.</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a><span class="sd">        Parameters</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">        ----------</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">        idx : int</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">            the index</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a><span class="sd">        Returns</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a><span class="sd">        -------</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a><span class="sd">        tag : int</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a><span class="sd">            the tag index</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of indices of samples that have a specific meta tag.</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a><span class="sd">        Parameters</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a><span class="sd">        ----------</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a><span class="sd">        tag : int</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a><span class="sd">            the meta tag for the subsample (`None` for the whole dataset)</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a><span class="sd">        Returns</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a><span class="sd">        -------</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a><span class="sd">        indices : list</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a><span class="sd">            a list of indices that meet the criteria</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all meta tags.</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a><span class="sd">        Returns</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a><span class="sd">        -------</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a><span class="sd">        tags: List</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a><span class="sd">            a list of unique meta tag values</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>        <span class="k">return</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a><span class="k">class</span><span class="w"> </span><span class="nc">BehaviorStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class that generates annotation from video information and stores it.</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a><span class="sd">    Processes input video information and generates ordered arrays of annotation samples and corresponding unique</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a><span class="sd">    original coordinates, as well as some meta objects.</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a><span class="sd">    It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a><span class="sd">    Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a><span class="sd">    The original coordinates object contains information about the video_id, clip_id and start time of the</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a><span class="sd">    samples in the original input data.</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a><span class="sd">    An BehaviorStore has to be fully defined with a tuple of key objects.</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a><span class="sd">    The annotation array can be accessed with integer indices.</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a><span class="sd">    The samples can be stored as a torch.Tensor in RAM or as an array of file paths to be loaded on runtime.</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a><span class="sd">    When no arguments are passed a blank class instance should be created that can later be filled with</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a><span class="sd">    information from key objects</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>    <span class="n">required_objects</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a><span class="sd">    A list of string names of the objects required from the input store.</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>        <span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>        <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>        <span class="n">annotation_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>        <span class="o">**</span><span class="n">kwargs</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>    <span class="p">):</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the class instance.</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a><span class="sd">        Parameters</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a><span class="sd">        ----------</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a><span class="sd">        video_order : list, optional</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a><span class="sd">            a list of video ids that should be processed in the same order (not passed if creating from key objects)</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a><span class="sd">        key_objects : tuple, optional</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a><span class="sd">        annotation_path : str | set, optional</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a><span class="sd">            the path or the set of paths to the folder where the annotation files are stored (not passed if creating</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a><span class="sd">            from key objects)</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>        <span class="k">if</span> <span class="n">key_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">load_from_key_objects</span><span class="p">(</span><span class="n">key_objects</span><span class="p">)</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the annotation of the sample corresponding to an index.</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a><span class="sd">        Parameters</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a><span class="sd">        ----------</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="sd">        ind : int</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a><span class="sd">            index of the sample</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a><span class="sd">        Returns</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a><span class="sd">        -------</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a><span class="sd">        sample : torch.Tensor</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a><span class="sd">            the corresponding annotation tensor</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_unlabeled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of the subsample of labeled/unlabeled data.</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a><span class="sd">        If return_unlabeled is True, the index is in the subsample of unlabeled data, if False in labeled</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a><span class="sd">        and if return_unlabeled is None the index is already correct</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a><span class="sd">        Parameters</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a><span class="sd">        ----------</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a><span class="sd">        return_unlabeled : bool</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a><span class="sd">            the identifier for the subsample</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a><span class="sd">        Returns</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a><span class="sd">        -------</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a><span class="sd">        length : int</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a><span class="sd">            the length of the subsample</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">count_classes</span><span class="p">(</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">frac</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">zeros</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">bouts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary with class-wise frame counts.</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a><span class="sd">        Parameters</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a><span class="sd">        ----------</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a><span class="sd">        frac : bool, default False</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a><span class="sd">            if `True`, a fraction of the total frame count is returned</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a><span class="sd">        zeros : bool. default False</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a><span class="sd">            if `True`, the number of known negative samples is counted (only if the annotation is multi-label)</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a><span class="sd">        bouts : bool, default False</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a><span class="sd">            if `True`, instead of frame counts segment counts are returned</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a><span class="sd">        Returns</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a><span class="sd">        -------</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a><span class="sd">        count_dictionary : dict</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a><span class="sd">            a dictionary with class indices as keys and frame counts as values</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">behaviors_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary of class names.</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a><span class="sd">        Returns</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a><span class="sd">        -------</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a><span class="sd">        behavior_dictionary: dict</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a><span class="sd">            a dictionary with class indices as keys and class names as values</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">annotation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the type of annotation (&#39;exclusive_classification&#39;, &#39;nonexclusive_classification&#39;, more coming soon).</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a><span class="sd">        Returns</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a><span class="sd">        -------</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a><span class="sd">        annotation_class : str</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a><span class="sd">            the type of annotation</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the total number of frames in the data.</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a><span class="sd">        Returns</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a><span class="sd">        -------</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a><span class="sd">        size : int</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a><span class="sd">            the total number of frames</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">filtered_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the indices of the samples that should be removed.</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a><span class="sd">        Choosing the indices can be based on any kind of filering defined in the __init__ function by the data</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a><span class="sd">        parameters</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a><span class="sd">        Returns</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a><span class="sd">        -------</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a><span class="sd">        indices_to_remove : list</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a><span class="sd">            a list of integer indices that should be removed</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_pseudo_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set pseudo labels to the unlabeled data.</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a><span class="sd">        Parameters</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a><span class="sd">        ----------</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a><span class="sd">        labels : torch.Tensor</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a><span class="sd">            a tensor of pseudo-labels for the unlabeled data</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a><span class="k">class</span><span class="w"> </span><span class="nc">PoseInputStore</span><span class="p">(</span><span class="n">InputStore</span><span class="p">):</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A subclass of `InputStore` for pose estimation data.</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a><span class="sd">    Contains methods used by pose estimation feature extractors.</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a><span class="sd">    All methods receive a data dictionary as input. This dictionary is the same as what is passed to the</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a><span class="sd">    feature extractor and the only limitations for the structure are that it has to relate to one video id</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a><span class="sd">    and have clip ids as keys. Read the documentation at `dlc2action.data` to find out more about videos</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a><span class="sd">    and clips.</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_likelihood</span><span class="p">(</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the likelihood values.</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a><span class="sd">        Parameters</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a><span class="sd">        ----------</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a><span class="sd">        data_dict : dict</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a><span class="sd">            the data dictionary</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a><span class="sd">        clip_id : str</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a><span class="sd">            the clip id</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a><span class="sd">        bodypart : str</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a><span class="sd">            the name of the body part</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a><span class="sd">        Returns</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a><span class="sd">        -------</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a><span class="sd">        likelihoods: np.ndarrray | None</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a><span class="sd">            `None` if the dataset doesn&#39;t have likelihoods or an array of shape (#timestamps)</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the coordinates array of a specific body part in a specific clip.</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a><span class="sd">        Parameters</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a><span class="sd">        ----------</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a><span class="sd">        data_dict : dict</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a><span class="sd">            the data dictionary</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a><span class="sd">        clip_id : str</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a><span class="sd">            the clip id</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a><span class="sd">        bodypart : str</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a><span class="sd">            the name of the body part</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a><span class="sd">        Returns</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a><span class="sd">        -------</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a><span class="sd">        coords : np.ndarray</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a><span class="sd">            the coordinates array of shape (#timesteps, #coordinates)</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_bodyparts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of bodypart names.</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a><span class="sd">        Returns</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a><span class="sd">        -------</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a><span class="sd">        bodyparts : list</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a><span class="sd">            a list of string or integer body part names</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_n_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of the clip.</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a><span class="sd">        Parameters</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a><span class="sd">        ----------</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a><span class="sd">        data_dict : dict</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a><span class="sd">            the data dictionary</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a><span class="sd">        clip_id : str</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a><span class="sd">            the clip id</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a><span class="sd">        Returns</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a><span class="sd">        -------</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a><span class="sd">        n_frames : int</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a><span class="sd">            the length of the clip</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            </section>
                <section id="Store">
                            <input id="Store-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Store</span><wbr>(<span class="base">abc.ABC</span>):

                <label class="view-source-button" for="Store-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store-19"><a href="#Store-19"><span class="linenos"> 19</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Store</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>  <span class="c1"># +</span>
</span><span id="Store-20"><a href="#Store-20"><span class="linenos"> 20</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A general parent class for `BehaviorStore` and `InputStore`.</span>
</span><span id="Store-21"><a href="#Store-21"><span class="linenos"> 21</span></a>
</span><span id="Store-22"><a href="#Store-22"><span class="linenos"> 22</span></a><span class="sd">    Processes input video information and generates ordered arrays of data samples and corresponding unique</span>
</span><span id="Store-23"><a href="#Store-23"><span class="linenos"> 23</span></a><span class="sd">    original coordinates, as well as some meta objects.</span>
</span><span id="Store-24"><a href="#Store-24"><span class="linenos"> 24</span></a><span class="sd">    It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).</span>
</span><span id="Store-25"><a href="#Store-25"><span class="linenos"> 25</span></a><span class="sd">    Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).</span>
</span><span id="Store-26"><a href="#Store-26"><span class="linenos"> 26</span></a><span class="sd">    The original coordinates object contains information about the video_id, clip_id and start time of the</span>
</span><span id="Store-27"><a href="#Store-27"><span class="linenos"> 27</span></a><span class="sd">    samples in the original input data.</span>
</span><span id="Store-28"><a href="#Store-28"><span class="linenos"> 28</span></a><span class="sd">    A Store has to be fully defined with a tuple of key objects.</span>
</span><span id="Store-29"><a href="#Store-29"><span class="linenos"> 29</span></a><span class="sd">    The data array can be accessed with integer indices.</span>
</span><span id="Store-30"><a href="#Store-30"><span class="linenos"> 30</span></a><span class="sd">    The samples can be stored as a tensor or TensorDict in RAM or as an array of file paths to be loaded on runtime.</span>
</span><span id="Store-31"><a href="#Store-31"><span class="linenos"> 31</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Store-32"><a href="#Store-32"><span class="linenos"> 32</span></a>
</span><span id="Store-33"><a href="#Store-33"><span class="linenos"> 33</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-34"><a href="#Store-34"><span class="linenos"> 34</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="Store-35"><a href="#Store-35"><span class="linenos"> 35</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the number of available samples.</span>
</span><span id="Store-36"><a href="#Store-36"><span class="linenos"> 36</span></a>
</span><span id="Store-37"><a href="#Store-37"><span class="linenos"> 37</span></a><span class="sd">        Returns</span>
</span><span id="Store-38"><a href="#Store-38"><span class="linenos"> 38</span></a><span class="sd">        -------</span>
</span><span id="Store-39"><a href="#Store-39"><span class="linenos"> 39</span></a><span class="sd">        length : int</span>
</span><span id="Store-40"><a href="#Store-40"><span class="linenos"> 40</span></a><span class="sd">            the number of available samples</span>
</span><span id="Store-41"><a href="#Store-41"><span class="linenos"> 41</span></a>
</span><span id="Store-42"><a href="#Store-42"><span class="linenos"> 42</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-43"><a href="#Store-43"><span class="linenos"> 43</span></a>
</span><span id="Store-44"><a href="#Store-44"><span class="linenos"> 44</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-45"><a href="#Store-45"><span class="linenos"> 45</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Store-46"><a href="#Store-46"><span class="linenos"> 46</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the samples corresponding to indices.</span>
</span><span id="Store-47"><a href="#Store-47"><span class="linenos"> 47</span></a>
</span><span id="Store-48"><a href="#Store-48"><span class="linenos"> 48</span></a><span class="sd">        Parameters</span>
</span><span id="Store-49"><a href="#Store-49"><span class="linenos"> 49</span></a><span class="sd">        ----------</span>
</span><span id="Store-50"><a href="#Store-50"><span class="linenos"> 50</span></a><span class="sd">        indices : int</span>
</span><span id="Store-51"><a href="#Store-51"><span class="linenos"> 51</span></a><span class="sd">            a list of integer indices to remove</span>
</span><span id="Store-52"><a href="#Store-52"><span class="linenos"> 52</span></a>
</span><span id="Store-53"><a href="#Store-53"><span class="linenos"> 53</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-54"><a href="#Store-54"><span class="linenos"> 54</span></a>
</span><span id="Store-55"><a href="#Store-55"><span class="linenos"> 55</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-56"><a href="#Store-56"><span class="linenos"> 56</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">key_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">:</span>
</span><span id="Store-57"><a href="#Store-57"><span class="linenos"> 57</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a tuple of the key objects necessary to re-create the Store.</span>
</span><span id="Store-58"><a href="#Store-58"><span class="linenos"> 58</span></a>
</span><span id="Store-59"><a href="#Store-59"><span class="linenos"> 59</span></a><span class="sd">        Returns</span>
</span><span id="Store-60"><a href="#Store-60"><span class="linenos"> 60</span></a><span class="sd">        -------</span>
</span><span id="Store-61"><a href="#Store-61"><span class="linenos"> 61</span></a><span class="sd">        key_objects : tuple</span>
</span><span id="Store-62"><a href="#Store-62"><span class="linenos"> 62</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="Store-63"><a href="#Store-63"><span class="linenos"> 63</span></a>
</span><span id="Store-64"><a href="#Store-64"><span class="linenos"> 64</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-65"><a href="#Store-65"><span class="linenos"> 65</span></a>
</span><span id="Store-66"><a href="#Store-66"><span class="linenos"> 66</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-67"><a href="#Store-67"><span class="linenos"> 67</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_from_key_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Store-68"><a href="#Store-68"><span class="linenos"> 68</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Load the information from a tuple of key objects.</span>
</span><span id="Store-69"><a href="#Store-69"><span class="linenos"> 69</span></a>
</span><span id="Store-70"><a href="#Store-70"><span class="linenos"> 70</span></a><span class="sd">        Parameters</span>
</span><span id="Store-71"><a href="#Store-71"><span class="linenos"> 71</span></a><span class="sd">        ----------</span>
</span><span id="Store-72"><a href="#Store-72"><span class="linenos"> 72</span></a><span class="sd">        key_objects : tuple</span>
</span><span id="Store-73"><a href="#Store-73"><span class="linenos"> 73</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="Store-74"><a href="#Store-74"><span class="linenos"> 74</span></a>
</span><span id="Store-75"><a href="#Store-75"><span class="linenos"> 75</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-76"><a href="#Store-76"><span class="linenos"> 76</span></a>
</span><span id="Store-77"><a href="#Store-77"><span class="linenos"> 77</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-78"><a href="#Store-78"><span class="linenos"> 78</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_ram</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Store-79"><a href="#Store-79"><span class="linenos"> 79</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Transfer the data samples to RAM if they were previously stored as file paths.&quot;&quot;&quot;</span>
</span><span id="Store-80"><a href="#Store-80"><span class="linenos"> 80</span></a>
</span><span id="Store-81"><a href="#Store-81"><span class="linenos"> 81</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-82"><a href="#Store-82"><span class="linenos"> 82</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_original_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="Store-83"><a href="#Store-83"><span class="linenos"> 83</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the original coordinates array.</span>
</span><span id="Store-84"><a href="#Store-84"><span class="linenos"> 84</span></a>
</span><span id="Store-85"><a href="#Store-85"><span class="linenos"> 85</span></a><span class="sd">        Returns</span>
</span><span id="Store-86"><a href="#Store-86"><span class="linenos"> 86</span></a><span class="sd">        -------</span>
</span><span id="Store-87"><a href="#Store-87"><span class="linenos"> 87</span></a><span class="sd">        np.ndarray</span>
</span><span id="Store-88"><a href="#Store-88"><span class="linenos"> 88</span></a><span class="sd">            an array that contains the coordinates of the data samples in original input data (video id, clip id,</span>
</span><span id="Store-89"><a href="#Store-89"><span class="linenos"> 89</span></a><span class="sd">            start frame)</span>
</span><span id="Store-90"><a href="#Store-90"><span class="linenos"> 90</span></a>
</span><span id="Store-91"><a href="#Store-91"><span class="linenos"> 91</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-92"><a href="#Store-92"><span class="linenos"> 92</span></a>
</span><span id="Store-93"><a href="#Store-93"><span class="linenos"> 93</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-94"><a href="#Store-94"><span class="linenos"> 94</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_subsample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">,</span> <span class="n">ssl_indices</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Store-95"><a href="#Store-95"><span class="linenos"> 95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new store that contains a subsample of the data.</span>
</span><span id="Store-96"><a href="#Store-96"><span class="linenos"> 96</span></a>
</span><span id="Store-97"><a href="#Store-97"><span class="linenos"> 97</span></a><span class="sd">        Parameters</span>
</span><span id="Store-98"><a href="#Store-98"><span class="linenos"> 98</span></a><span class="sd">        ----------</span>
</span><span id="Store-99"><a href="#Store-99"><span class="linenos"> 99</span></a><span class="sd">        indices : list</span>
</span><span id="Store-100"><a href="#Store-100"><span class="linenos">100</span></a><span class="sd">            the indices to be included in the subsample</span>
</span><span id="Store-101"><a href="#Store-101"><span class="linenos">101</span></a><span class="sd">        ssl_indices : list, optional</span>
</span><span id="Store-102"><a href="#Store-102"><span class="linenos">102</span></a><span class="sd">            the indices to be included in the subsample without the annotation data</span>
</span><span id="Store-103"><a href="#Store-103"><span class="linenos">103</span></a>
</span><span id="Store-104"><a href="#Store-104"><span class="linenos">104</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-105"><a href="#Store-105"><span class="linenos">105</span></a>
</span><span id="Store-106"><a href="#Store-106"><span class="linenos">106</span></a>    <span class="nd">@classmethod</span>
</span><span id="Store-107"><a href="#Store-107"><span class="linenos">107</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store-108"><a href="#Store-108"><span class="linenos">108</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_file_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="Store-109"><a href="#Store-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of ids.</span>
</span><span id="Store-110"><a href="#Store-110"><span class="linenos">110</span></a>
</span><span id="Store-111"><a href="#Store-111"><span class="linenos">111</span></a><span class="sd">        Process data parameters and return a list of ids of the videos that should</span>
</span><span id="Store-112"><a href="#Store-112"><span class="linenos">112</span></a><span class="sd">        be processed by the `__init__` function.</span>
</span><span id="Store-113"><a href="#Store-113"><span class="linenos">113</span></a>
</span><span id="Store-114"><a href="#Store-114"><span class="linenos">114</span></a><span class="sd">        Parameters</span>
</span><span id="Store-115"><a href="#Store-115"><span class="linenos">115</span></a><span class="sd">        ----------</span>
</span><span id="Store-116"><a href="#Store-116"><span class="linenos">116</span></a><span class="sd">        *args</span>
</span><span id="Store-117"><a href="#Store-117"><span class="linenos">117</span></a><span class="sd">            positional arguments</span>
</span><span id="Store-118"><a href="#Store-118"><span class="linenos">118</span></a><span class="sd">        **kwargs</span>
</span><span id="Store-119"><a href="#Store-119"><span class="linenos">119</span></a><span class="sd">            keyword arguments</span>
</span><span id="Store-120"><a href="#Store-120"><span class="linenos">120</span></a>
</span><span id="Store-121"><a href="#Store-121"><span class="linenos">121</span></a><span class="sd">        Returns</span>
</span><span id="Store-122"><a href="#Store-122"><span class="linenos">122</span></a><span class="sd">        -------</span>
</span><span id="Store-123"><a href="#Store-123"><span class="linenos">123</span></a><span class="sd">        video_ids : list</span>
</span><span id="Store-124"><a href="#Store-124"><span class="linenos">124</span></a><span class="sd">            a list of video file ids</span>
</span><span id="Store-125"><a href="#Store-125"><span class="linenos">125</span></a>
</span><span id="Store-126"><a href="#Store-126"><span class="linenos">126</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-127"><a href="#Store-127"><span class="linenos">127</span></a>
</span><span id="Store-128"><a href="#Store-128"><span class="linenos">128</span></a>    <span class="nd">@classmethod</span>
</span><span id="Store-129"><a href="#Store-129"><span class="linenos">129</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_parameters</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="Store-130"><a href="#Store-130"><span class="linenos">130</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a list of parameter names for the `__init__` function.</span>
</span><span id="Store-131"><a href="#Store-131"><span class="linenos">131</span></a>
</span><span id="Store-132"><a href="#Store-132"><span class="linenos">132</span></a><span class="sd">        Returns</span>
</span><span id="Store-133"><a href="#Store-133"><span class="linenos">133</span></a><span class="sd">        -------</span>
</span><span id="Store-134"><a href="#Store-134"><span class="linenos">134</span></a><span class="sd">        parameter_names: list</span>
</span><span id="Store-135"><a href="#Store-135"><span class="linenos">135</span></a><span class="sd">            a list of necessary parameter names</span>
</span><span id="Store-136"><a href="#Store-136"><span class="linenos">136</span></a>
</span><span id="Store-137"><a href="#Store-137"><span class="linenos">137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-138"><a href="#Store-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span><span class="o">.</span><span class="n">args</span>
</span><span id="Store-139"><a href="#Store-139"><span class="linenos">139</span></a>
</span><span id="Store-140"><a href="#Store-140"><span class="linenos">140</span></a>    <span class="nd">@classmethod</span>
</span><span id="Store-141"><a href="#Store-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="Store-142"><a href="#Store-142"><span class="linenos">142</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new instance of the same class.</span>
</span><span id="Store-143"><a href="#Store-143"><span class="linenos">143</span></a>
</span><span id="Store-144"><a href="#Store-144"><span class="linenos">144</span></a><span class="sd">        Returns</span>
</span><span id="Store-145"><a href="#Store-145"><span class="linenos">145</span></a><span class="sd">        -------</span>
</span><span id="Store-146"><a href="#Store-146"><span class="linenos">146</span></a><span class="sd">        new_instance : Store</span>
</span><span id="Store-147"><a href="#Store-147"><span class="linenos">147</span></a><span class="sd">            a new instance of the same class</span>
</span><span id="Store-148"><a href="#Store-148"><span class="linenos">148</span></a>
</span><span id="Store-149"><a href="#Store-149"><span class="linenos">149</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store-150"><a href="#Store-150"><span class="linenos">150</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>A general parent class for <code><a href="#BehaviorStore">BehaviorStore</a></code> and <code><a href="#InputStore">InputStore</a></code>.</p>

<p>Processes input video information and generates ordered arrays of data samples and corresponding unique
original coordinates, as well as some meta objects.
It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).
Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).
The original coordinates object contains information about the video_id, clip_id and start time of the
samples in the original input data.
A Store has to be fully defined with a tuple of key objects.
The data array can be accessed with integer indices.
The samples can be stored as a tensor or TensorDict in RAM or as an array of file paths to be loaded on runtime.</p>
</div>


                            <div id="Store.remove" class="classattr">
                                        <input id="Store.remove-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">remove</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">indices</span><span class="p">:</span> <span class="n">List</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Store.remove-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.remove"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.remove-44"><a href="#Store.remove-44"><span class="linenos">44</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store.remove-45"><a href="#Store.remove-45"><span class="linenos">45</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Store.remove-46"><a href="#Store.remove-46"><span class="linenos">46</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the samples corresponding to indices.</span>
</span><span id="Store.remove-47"><a href="#Store.remove-47"><span class="linenos">47</span></a>
</span><span id="Store.remove-48"><a href="#Store.remove-48"><span class="linenos">48</span></a><span class="sd">        Parameters</span>
</span><span id="Store.remove-49"><a href="#Store.remove-49"><span class="linenos">49</span></a><span class="sd">        ----------</span>
</span><span id="Store.remove-50"><a href="#Store.remove-50"><span class="linenos">50</span></a><span class="sd">        indices : int</span>
</span><span id="Store.remove-51"><a href="#Store.remove-51"><span class="linenos">51</span></a><span class="sd">            a list of integer indices to remove</span>
</span><span id="Store.remove-52"><a href="#Store.remove-52"><span class="linenos">52</span></a>
</span><span id="Store.remove-53"><a href="#Store.remove-53"><span class="linenos">53</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Remove the samples corresponding to indices.</p>

<h2 id="parameters">Parameters</h2>

<p>indices : int
    a list of integer indices to remove</p>
</div>


                            </div>
                            <div id="Store.key_objects" class="classattr">
                                        <input id="Store.key_objects-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">key_objects</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Tuple</span>:</span></span>

                <label class="view-source-button" for="Store.key_objects-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.key_objects"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.key_objects-55"><a href="#Store.key_objects-55"><span class="linenos">55</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store.key_objects-56"><a href="#Store.key_objects-56"><span class="linenos">56</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">key_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">:</span>
</span><span id="Store.key_objects-57"><a href="#Store.key_objects-57"><span class="linenos">57</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a tuple of the key objects necessary to re-create the Store.</span>
</span><span id="Store.key_objects-58"><a href="#Store.key_objects-58"><span class="linenos">58</span></a>
</span><span id="Store.key_objects-59"><a href="#Store.key_objects-59"><span class="linenos">59</span></a><span class="sd">        Returns</span>
</span><span id="Store.key_objects-60"><a href="#Store.key_objects-60"><span class="linenos">60</span></a><span class="sd">        -------</span>
</span><span id="Store.key_objects-61"><a href="#Store.key_objects-61"><span class="linenos">61</span></a><span class="sd">        key_objects : tuple</span>
</span><span id="Store.key_objects-62"><a href="#Store.key_objects-62"><span class="linenos">62</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="Store.key_objects-63"><a href="#Store.key_objects-63"><span class="linenos">63</span></a>
</span><span id="Store.key_objects-64"><a href="#Store.key_objects-64"><span class="linenos">64</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Return a tuple of the key objects necessary to re-create the Store.</p>

<h2 id="returns">Returns</h2>

<p>key_objects : tuple
    a tuple of key objects</p>
</div>


                            </div>
                            <div id="Store.load_from_key_objects" class="classattr">
                                        <input id="Store.load_from_key_objects-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">load_from_key_objects</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Store.load_from_key_objects-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.load_from_key_objects"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.load_from_key_objects-66"><a href="#Store.load_from_key_objects-66"><span class="linenos">66</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store.load_from_key_objects-67"><a href="#Store.load_from_key_objects-67"><span class="linenos">67</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_from_key_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Store.load_from_key_objects-68"><a href="#Store.load_from_key_objects-68"><span class="linenos">68</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Load the information from a tuple of key objects.</span>
</span><span id="Store.load_from_key_objects-69"><a href="#Store.load_from_key_objects-69"><span class="linenos">69</span></a>
</span><span id="Store.load_from_key_objects-70"><a href="#Store.load_from_key_objects-70"><span class="linenos">70</span></a><span class="sd">        Parameters</span>
</span><span id="Store.load_from_key_objects-71"><a href="#Store.load_from_key_objects-71"><span class="linenos">71</span></a><span class="sd">        ----------</span>
</span><span id="Store.load_from_key_objects-72"><a href="#Store.load_from_key_objects-72"><span class="linenos">72</span></a><span class="sd">        key_objects : tuple</span>
</span><span id="Store.load_from_key_objects-73"><a href="#Store.load_from_key_objects-73"><span class="linenos">73</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="Store.load_from_key_objects-74"><a href="#Store.load_from_key_objects-74"><span class="linenos">74</span></a>
</span><span id="Store.load_from_key_objects-75"><a href="#Store.load_from_key_objects-75"><span class="linenos">75</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Load the information from a tuple of key objects.</p>

<h2 id="parameters">Parameters</h2>

<p>key_objects : tuple
    a tuple of key objects</p>
</div>


                            </div>
                            <div id="Store.to_ram" class="classattr">
                                        <input id="Store.to_ram-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">to_ram</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Store.to_ram-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.to_ram"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.to_ram-77"><a href="#Store.to_ram-77"><span class="linenos">77</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store.to_ram-78"><a href="#Store.to_ram-78"><span class="linenos">78</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_ram</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Store.to_ram-79"><a href="#Store.to_ram-79"><span class="linenos">79</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Transfer the data samples to RAM if they were previously stored as file paths.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Transfer the data samples to RAM if they were previously stored as file paths.</p>
</div>


                            </div>
                            <div id="Store.get_original_coordinates" class="classattr">
                                        <input id="Store.get_original_coordinates-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_original_coordinates</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span>:</span></span>

                <label class="view-source-button" for="Store.get_original_coordinates-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.get_original_coordinates"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.get_original_coordinates-81"><a href="#Store.get_original_coordinates-81"><span class="linenos">81</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store.get_original_coordinates-82"><a href="#Store.get_original_coordinates-82"><span class="linenos">82</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_original_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="Store.get_original_coordinates-83"><a href="#Store.get_original_coordinates-83"><span class="linenos">83</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the original coordinates array.</span>
</span><span id="Store.get_original_coordinates-84"><a href="#Store.get_original_coordinates-84"><span class="linenos">84</span></a>
</span><span id="Store.get_original_coordinates-85"><a href="#Store.get_original_coordinates-85"><span class="linenos">85</span></a><span class="sd">        Returns</span>
</span><span id="Store.get_original_coordinates-86"><a href="#Store.get_original_coordinates-86"><span class="linenos">86</span></a><span class="sd">        -------</span>
</span><span id="Store.get_original_coordinates-87"><a href="#Store.get_original_coordinates-87"><span class="linenos">87</span></a><span class="sd">        np.ndarray</span>
</span><span id="Store.get_original_coordinates-88"><a href="#Store.get_original_coordinates-88"><span class="linenos">88</span></a><span class="sd">            an array that contains the coordinates of the data samples in original input data (video id, clip id,</span>
</span><span id="Store.get_original_coordinates-89"><a href="#Store.get_original_coordinates-89"><span class="linenos">89</span></a><span class="sd">            start frame)</span>
</span><span id="Store.get_original_coordinates-90"><a href="#Store.get_original_coordinates-90"><span class="linenos">90</span></a>
</span><span id="Store.get_original_coordinates-91"><a href="#Store.get_original_coordinates-91"><span class="linenos">91</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Return the original coordinates array.</p>

<h2 id="returns">Returns</h2>

<p>np.ndarray
    an array that contains the coordinates of the data samples in original input data (video id, clip id,
    start frame)</p>
</div>


                            </div>
                            <div id="Store.create_subsample" class="classattr">
                                        <input id="Store.create_subsample-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">create_subsample</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">indices</span><span class="p">:</span> <span class="n">List</span>, </span><span class="param"><span class="n">ssl_indices</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Store.create_subsample-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.create_subsample"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.create_subsample-93"><a href="#Store.create_subsample-93"><span class="linenos"> 93</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store.create_subsample-94"><a href="#Store.create_subsample-94"><span class="linenos"> 94</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_subsample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">,</span> <span class="n">ssl_indices</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Store.create_subsample-95"><a href="#Store.create_subsample-95"><span class="linenos"> 95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new store that contains a subsample of the data.</span>
</span><span id="Store.create_subsample-96"><a href="#Store.create_subsample-96"><span class="linenos"> 96</span></a>
</span><span id="Store.create_subsample-97"><a href="#Store.create_subsample-97"><span class="linenos"> 97</span></a><span class="sd">        Parameters</span>
</span><span id="Store.create_subsample-98"><a href="#Store.create_subsample-98"><span class="linenos"> 98</span></a><span class="sd">        ----------</span>
</span><span id="Store.create_subsample-99"><a href="#Store.create_subsample-99"><span class="linenos"> 99</span></a><span class="sd">        indices : list</span>
</span><span id="Store.create_subsample-100"><a href="#Store.create_subsample-100"><span class="linenos">100</span></a><span class="sd">            the indices to be included in the subsample</span>
</span><span id="Store.create_subsample-101"><a href="#Store.create_subsample-101"><span class="linenos">101</span></a><span class="sd">        ssl_indices : list, optional</span>
</span><span id="Store.create_subsample-102"><a href="#Store.create_subsample-102"><span class="linenos">102</span></a><span class="sd">            the indices to be included in the subsample without the annotation data</span>
</span><span id="Store.create_subsample-103"><a href="#Store.create_subsample-103"><span class="linenos">103</span></a>
</span><span id="Store.create_subsample-104"><a href="#Store.create_subsample-104"><span class="linenos">104</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Create a new store that contains a subsample of the data.</p>

<h2 id="parameters">Parameters</h2>

<p>indices : list
    the indices to be included in the subsample
ssl_indices : list, optional
    the indices to be included in the subsample without the annotation data</p>
</div>


                            </div>
                            <div id="Store.get_file_ids" class="classattr">
                                        <input id="Store.get_file_ids-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>
        <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_file_ids</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="Store.get_file_ids-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.get_file_ids"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.get_file_ids-106"><a href="#Store.get_file_ids-106"><span class="linenos">106</span></a>    <span class="nd">@classmethod</span>
</span><span id="Store.get_file_ids-107"><a href="#Store.get_file_ids-107"><span class="linenos">107</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="Store.get_file_ids-108"><a href="#Store.get_file_ids-108"><span class="linenos">108</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_file_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="Store.get_file_ids-109"><a href="#Store.get_file_ids-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of ids.</span>
</span><span id="Store.get_file_ids-110"><a href="#Store.get_file_ids-110"><span class="linenos">110</span></a>
</span><span id="Store.get_file_ids-111"><a href="#Store.get_file_ids-111"><span class="linenos">111</span></a><span class="sd">        Process data parameters and return a list of ids of the videos that should</span>
</span><span id="Store.get_file_ids-112"><a href="#Store.get_file_ids-112"><span class="linenos">112</span></a><span class="sd">        be processed by the `__init__` function.</span>
</span><span id="Store.get_file_ids-113"><a href="#Store.get_file_ids-113"><span class="linenos">113</span></a>
</span><span id="Store.get_file_ids-114"><a href="#Store.get_file_ids-114"><span class="linenos">114</span></a><span class="sd">        Parameters</span>
</span><span id="Store.get_file_ids-115"><a href="#Store.get_file_ids-115"><span class="linenos">115</span></a><span class="sd">        ----------</span>
</span><span id="Store.get_file_ids-116"><a href="#Store.get_file_ids-116"><span class="linenos">116</span></a><span class="sd">        *args</span>
</span><span id="Store.get_file_ids-117"><a href="#Store.get_file_ids-117"><span class="linenos">117</span></a><span class="sd">            positional arguments</span>
</span><span id="Store.get_file_ids-118"><a href="#Store.get_file_ids-118"><span class="linenos">118</span></a><span class="sd">        **kwargs</span>
</span><span id="Store.get_file_ids-119"><a href="#Store.get_file_ids-119"><span class="linenos">119</span></a><span class="sd">            keyword arguments</span>
</span><span id="Store.get_file_ids-120"><a href="#Store.get_file_ids-120"><span class="linenos">120</span></a>
</span><span id="Store.get_file_ids-121"><a href="#Store.get_file_ids-121"><span class="linenos">121</span></a><span class="sd">        Returns</span>
</span><span id="Store.get_file_ids-122"><a href="#Store.get_file_ids-122"><span class="linenos">122</span></a><span class="sd">        -------</span>
</span><span id="Store.get_file_ids-123"><a href="#Store.get_file_ids-123"><span class="linenos">123</span></a><span class="sd">        video_ids : list</span>
</span><span id="Store.get_file_ids-124"><a href="#Store.get_file_ids-124"><span class="linenos">124</span></a><span class="sd">            a list of video file ids</span>
</span><span id="Store.get_file_ids-125"><a href="#Store.get_file_ids-125"><span class="linenos">125</span></a>
</span><span id="Store.get_file_ids-126"><a href="#Store.get_file_ids-126"><span class="linenos">126</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of ids.</p>

<p>Process data parameters and return a list of ids of the videos that should
be processed by the <code>__init__</code> function.</p>

<h2 id="parameters">Parameters</h2>

<p><em>args
    positional arguments
*</em>kwargs
    keyword arguments</p>

<h2 id="returns">Returns</h2>

<p>video_ids : list
    a list of video file ids</p>
</div>


                            </div>
                            <div id="Store.get_parameters" class="classattr">
                                        <input id="Store.get_parameters-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">get_parameters</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="Store.get_parameters-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.get_parameters"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.get_parameters-128"><a href="#Store.get_parameters-128"><span class="linenos">128</span></a>    <span class="nd">@classmethod</span>
</span><span id="Store.get_parameters-129"><a href="#Store.get_parameters-129"><span class="linenos">129</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_parameters</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="Store.get_parameters-130"><a href="#Store.get_parameters-130"><span class="linenos">130</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a list of parameter names for the `__init__` function.</span>
</span><span id="Store.get_parameters-131"><a href="#Store.get_parameters-131"><span class="linenos">131</span></a>
</span><span id="Store.get_parameters-132"><a href="#Store.get_parameters-132"><span class="linenos">132</span></a><span class="sd">        Returns</span>
</span><span id="Store.get_parameters-133"><a href="#Store.get_parameters-133"><span class="linenos">133</span></a><span class="sd">        -------</span>
</span><span id="Store.get_parameters-134"><a href="#Store.get_parameters-134"><span class="linenos">134</span></a><span class="sd">        parameter_names: list</span>
</span><span id="Store.get_parameters-135"><a href="#Store.get_parameters-135"><span class="linenos">135</span></a><span class="sd">            a list of necessary parameter names</span>
</span><span id="Store.get_parameters-136"><a href="#Store.get_parameters-136"><span class="linenos">136</span></a>
</span><span id="Store.get_parameters-137"><a href="#Store.get_parameters-137"><span class="linenos">137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store.get_parameters-138"><a href="#Store.get_parameters-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span><span class="o">.</span><span class="n">args</span>
</span></pre></div>


            <div class="docstring"><p>Generate a list of parameter names for the <code>__init__</code> function.</p>

<h2 id="returns">Returns</h2>

<p>parameter_names: list
    a list of necessary parameter names</p>
</div>


                            </div>
                            <div id="Store.new" class="classattr">
                                        <input id="Store.new-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">new</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Store.new-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Store.new"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Store.new-140"><a href="#Store.new-140"><span class="linenos">140</span></a>    <span class="nd">@classmethod</span>
</span><span id="Store.new-141"><a href="#Store.new-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="Store.new-142"><a href="#Store.new-142"><span class="linenos">142</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new instance of the same class.</span>
</span><span id="Store.new-143"><a href="#Store.new-143"><span class="linenos">143</span></a>
</span><span id="Store.new-144"><a href="#Store.new-144"><span class="linenos">144</span></a><span class="sd">        Returns</span>
</span><span id="Store.new-145"><a href="#Store.new-145"><span class="linenos">145</span></a><span class="sd">        -------</span>
</span><span id="Store.new-146"><a href="#Store.new-146"><span class="linenos">146</span></a><span class="sd">        new_instance : Store</span>
</span><span id="Store.new-147"><a href="#Store.new-147"><span class="linenos">147</span></a><span class="sd">            a new instance of the same class</span>
</span><span id="Store.new-148"><a href="#Store.new-148"><span class="linenos">148</span></a>
</span><span id="Store.new-149"><a href="#Store.new-149"><span class="linenos">149</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Store.new-150"><a href="#Store.new-150"><span class="linenos">150</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Create a new instance of the same class.</p>

<h2 id="returns">Returns</h2>

<p>new_instance : Store
    a new instance of the same class</p>
</div>


                            </div>
                </section>
                <section id="InputStore">
                            <input id="InputStore-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">InputStore</span><wbr>(<span class="base"><a href="#Store">Store</a></span>):

                <label class="view-source-button" for="InputStore-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore-153"><a href="#InputStore-153"><span class="linenos">153</span></a><span class="k">class</span><span class="w"> </span><span class="nc">InputStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>  <span class="c1"># +</span>
</span><span id="InputStore-154"><a href="#InputStore-154"><span class="linenos">154</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class that generates model input data from video information and stores it.</span>
</span><span id="InputStore-155"><a href="#InputStore-155"><span class="linenos">155</span></a>
</span><span id="InputStore-156"><a href="#InputStore-156"><span class="linenos">156</span></a><span class="sd">    Processes input video information and generates ordered arrays of data samples and corresponding unique</span>
</span><span id="InputStore-157"><a href="#InputStore-157"><span class="linenos">157</span></a><span class="sd">    original coordinates, as well as some meta objects.</span>
</span><span id="InputStore-158"><a href="#InputStore-158"><span class="linenos">158</span></a><span class="sd">    It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).</span>
</span><span id="InputStore-159"><a href="#InputStore-159"><span class="linenos">159</span></a><span class="sd">    Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).</span>
</span><span id="InputStore-160"><a href="#InputStore-160"><span class="linenos">160</span></a><span class="sd">    The original coordinates object contains information about the video_id, clip_id and start time of the</span>
</span><span id="InputStore-161"><a href="#InputStore-161"><span class="linenos">161</span></a><span class="sd">    samples in the original input data.</span>
</span><span id="InputStore-162"><a href="#InputStore-162"><span class="linenos">162</span></a><span class="sd">    An InputStore has to be fully defined with a tuple of key objects.</span>
</span><span id="InputStore-163"><a href="#InputStore-163"><span class="linenos">163</span></a><span class="sd">    The data array can be accessed with integer indices.</span>
</span><span id="InputStore-164"><a href="#InputStore-164"><span class="linenos">164</span></a><span class="sd">    The samples can be stored as a TensorDict in RAM or as an array of file paths to be loaded on runtime.</span>
</span><span id="InputStore-165"><a href="#InputStore-165"><span class="linenos">165</span></a><span class="sd">    When no arguments are passed a blank class instance should be created that can later be filled with</span>
</span><span id="InputStore-166"><a href="#InputStore-166"><span class="linenos">166</span></a><span class="sd">    information from key objects</span>
</span><span id="InputStore-167"><a href="#InputStore-167"><span class="linenos">167</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="InputStore-168"><a href="#InputStore-168"><span class="linenos">168</span></a>
</span><span id="InputStore-169"><a href="#InputStore-169"><span class="linenos">169</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-170"><a href="#InputStore-170"><span class="linenos">170</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="InputStore-171"><a href="#InputStore-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="InputStore-172"><a href="#InputStore-172"><span class="linenos">172</span></a>        <span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore-173"><a href="#InputStore-173"><span class="linenos">173</span></a>        <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore-174"><a href="#InputStore-174"><span class="linenos">174</span></a>        <span class="n">data_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore-175"><a href="#InputStore-175"><span class="linenos">175</span></a>        <span class="n">file_paths</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore-176"><a href="#InputStore-176"><span class="linenos">176</span></a>        <span class="n">feature_save_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore-177"><a href="#InputStore-177"><span class="linenos">177</span></a>        <span class="n">feature_extraction_pars</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore-178"><a href="#InputStore-178"><span class="linenos">178</span></a>        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
</span><span id="InputStore-179"><a href="#InputStore-179"><span class="linenos">179</span></a>        <span class="o">**</span><span class="n">kwargs</span>
</span><span id="InputStore-180"><a href="#InputStore-180"><span class="linenos">180</span></a>    <span class="p">):</span>
</span><span id="InputStore-181"><a href="#InputStore-181"><span class="linenos">181</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a class instance.</span>
</span><span id="InputStore-182"><a href="#InputStore-182"><span class="linenos">182</span></a>
</span><span id="InputStore-183"><a href="#InputStore-183"><span class="linenos">183</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-184"><a href="#InputStore-184"><span class="linenos">184</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-185"><a href="#InputStore-185"><span class="linenos">185</span></a><span class="sd">        video_order : list, optional</span>
</span><span id="InputStore-186"><a href="#InputStore-186"><span class="linenos">186</span></a><span class="sd">            a list of video ids that should be processed in the same order (not passed if creating from key objects)</span>
</span><span id="InputStore-187"><a href="#InputStore-187"><span class="linenos">187</span></a><span class="sd">        key_objects : tuple, optional</span>
</span><span id="InputStore-188"><a href="#InputStore-188"><span class="linenos">188</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="InputStore-189"><a href="#InputStore-189"><span class="linenos">189</span></a><span class="sd">        data_path : str | set, optional</span>
</span><span id="InputStore-190"><a href="#InputStore-190"><span class="linenos">190</span></a><span class="sd">            the path to the folder where the pose and feature files are stored or a set of such paths</span>
</span><span id="InputStore-191"><a href="#InputStore-191"><span class="linenos">191</span></a><span class="sd">            (not passed if creating from key objects or from `file_paths`)</span>
</span><span id="InputStore-192"><a href="#InputStore-192"><span class="linenos">192</span></a><span class="sd">        file_paths : set, optional</span>
</span><span id="InputStore-193"><a href="#InputStore-193"><span class="linenos">193</span></a><span class="sd">            a set of string paths to the pose and feature files</span>
</span><span id="InputStore-194"><a href="#InputStore-194"><span class="linenos">194</span></a><span class="sd">            (not passed if creating from key objects or from `data_path`)</span>
</span><span id="InputStore-195"><a href="#InputStore-195"><span class="linenos">195</span></a><span class="sd">        feature_save_path : str, optional</span>
</span><span id="InputStore-196"><a href="#InputStore-196"><span class="linenos">196</span></a><span class="sd">            the path to the folder where pre-processed files are stored (not passed if creating from key objects)</span>
</span><span id="InputStore-197"><a href="#InputStore-197"><span class="linenos">197</span></a><span class="sd">        feature_extraction_pars : dict, optional</span>
</span><span id="InputStore-198"><a href="#InputStore-198"><span class="linenos">198</span></a><span class="sd">            a dictionary of feature extraction parameters (not passed if creating from key objects)</span>
</span><span id="InputStore-199"><a href="#InputStore-199"><span class="linenos">199</span></a>
</span><span id="InputStore-200"><a href="#InputStore-200"><span class="linenos">200</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-201"><a href="#InputStore-201"><span class="linenos">201</span></a>        <span class="k">if</span> <span class="n">key_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="InputStore-202"><a href="#InputStore-202"><span class="linenos">202</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">load_from_key_objects</span><span class="p">(</span><span class="n">key_objects</span><span class="p">)</span>
</span><span id="InputStore-203"><a href="#InputStore-203"><span class="linenos">203</span></a>
</span><span id="InputStore-204"><a href="#InputStore-204"><span class="linenos">204</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-205"><a href="#InputStore-205"><span class="linenos">205</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="InputStore-206"><a href="#InputStore-206"><span class="linenos">206</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the sample corresponding to an index.</span>
</span><span id="InputStore-207"><a href="#InputStore-207"><span class="linenos">207</span></a>
</span><span id="InputStore-208"><a href="#InputStore-208"><span class="linenos">208</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-209"><a href="#InputStore-209"><span class="linenos">209</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-210"><a href="#InputStore-210"><span class="linenos">210</span></a><span class="sd">        ind : int</span>
</span><span id="InputStore-211"><a href="#InputStore-211"><span class="linenos">211</span></a><span class="sd">            index of the sample</span>
</span><span id="InputStore-212"><a href="#InputStore-212"><span class="linenos">212</span></a>
</span><span id="InputStore-213"><a href="#InputStore-213"><span class="linenos">213</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-214"><a href="#InputStore-214"><span class="linenos">214</span></a><span class="sd">        -------</span>
</span><span id="InputStore-215"><a href="#InputStore-215"><span class="linenos">215</span></a><span class="sd">        sample : dict</span>
</span><span id="InputStore-216"><a href="#InputStore-216"><span class="linenos">216</span></a><span class="sd">            the corresponding sample (a dictionary of features)</span>
</span><span id="InputStore-217"><a href="#InputStore-217"><span class="linenos">217</span></a>
</span><span id="InputStore-218"><a href="#InputStore-218"><span class="linenos">218</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-219"><a href="#InputStore-219"><span class="linenos">219</span></a>
</span><span id="InputStore-220"><a href="#InputStore-220"><span class="linenos">220</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-221"><a href="#InputStore-221"><span class="linenos">221</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_video_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="InputStore-222"><a href="#InputStore-222"><span class="linenos">222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the video id from an element of original coordinates.</span>
</span><span id="InputStore-223"><a href="#InputStore-223"><span class="linenos">223</span></a>
</span><span id="InputStore-224"><a href="#InputStore-224"><span class="linenos">224</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-225"><a href="#InputStore-225"><span class="linenos">225</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-226"><a href="#InputStore-226"><span class="linenos">226</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore-227"><a href="#InputStore-227"><span class="linenos">227</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="InputStore-228"><a href="#InputStore-228"><span class="linenos">228</span></a>
</span><span id="InputStore-229"><a href="#InputStore-229"><span class="linenos">229</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-230"><a href="#InputStore-230"><span class="linenos">230</span></a><span class="sd">        -------</span>
</span><span id="InputStore-231"><a href="#InputStore-231"><span class="linenos">231</span></a><span class="sd">        video_id: str</span>
</span><span id="InputStore-232"><a href="#InputStore-232"><span class="linenos">232</span></a><span class="sd">            the id of the video that the coordinates point to</span>
</span><span id="InputStore-233"><a href="#InputStore-233"><span class="linenos">233</span></a>
</span><span id="InputStore-234"><a href="#InputStore-234"><span class="linenos">234</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-235"><a href="#InputStore-235"><span class="linenos">235</span></a>
</span><span id="InputStore-236"><a href="#InputStore-236"><span class="linenos">236</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-237"><a href="#InputStore-237"><span class="linenos">237</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="InputStore-238"><a href="#InputStore-238"><span class="linenos">238</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip id from an element of original coordinates.</span>
</span><span id="InputStore-239"><a href="#InputStore-239"><span class="linenos">239</span></a>
</span><span id="InputStore-240"><a href="#InputStore-240"><span class="linenos">240</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-241"><a href="#InputStore-241"><span class="linenos">241</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-242"><a href="#InputStore-242"><span class="linenos">242</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore-243"><a href="#InputStore-243"><span class="linenos">243</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="InputStore-244"><a href="#InputStore-244"><span class="linenos">244</span></a>
</span><span id="InputStore-245"><a href="#InputStore-245"><span class="linenos">245</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-246"><a href="#InputStore-246"><span class="linenos">246</span></a><span class="sd">        -------</span>
</span><span id="InputStore-247"><a href="#InputStore-247"><span class="linenos">247</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore-248"><a href="#InputStore-248"><span class="linenos">248</span></a><span class="sd">            the id of the clip that the coordinates point to</span>
</span><span id="InputStore-249"><a href="#InputStore-249"><span class="linenos">249</span></a>
</span><span id="InputStore-250"><a href="#InputStore-250"><span class="linenos">250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-251"><a href="#InputStore-251"><span class="linenos">251</span></a>
</span><span id="InputStore-252"><a href="#InputStore-252"><span class="linenos">252</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-253"><a href="#InputStore-253"><span class="linenos">253</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="InputStore-254"><a href="#InputStore-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip length from the id.</span>
</span><span id="InputStore-255"><a href="#InputStore-255"><span class="linenos">255</span></a>
</span><span id="InputStore-256"><a href="#InputStore-256"><span class="linenos">256</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-257"><a href="#InputStore-257"><span class="linenos">257</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-258"><a href="#InputStore-258"><span class="linenos">258</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore-259"><a href="#InputStore-259"><span class="linenos">259</span></a><span class="sd">            the video id</span>
</span><span id="InputStore-260"><a href="#InputStore-260"><span class="linenos">260</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore-261"><a href="#InputStore-261"><span class="linenos">261</span></a><span class="sd">            the clip id</span>
</span><span id="InputStore-262"><a href="#InputStore-262"><span class="linenos">262</span></a>
</span><span id="InputStore-263"><a href="#InputStore-263"><span class="linenos">263</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-264"><a href="#InputStore-264"><span class="linenos">264</span></a><span class="sd">        -------</span>
</span><span id="InputStore-265"><a href="#InputStore-265"><span class="linenos">265</span></a><span class="sd">        clip_length : int</span>
</span><span id="InputStore-266"><a href="#InputStore-266"><span class="linenos">266</span></a><span class="sd">            the length of the clip</span>
</span><span id="InputStore-267"><a href="#InputStore-267"><span class="linenos">267</span></a>
</span><span id="InputStore-268"><a href="#InputStore-268"><span class="linenos">268</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-269"><a href="#InputStore-269"><span class="linenos">269</span></a>
</span><span id="InputStore-270"><a href="#InputStore-270"><span class="linenos">270</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-271"><a href="#InputStore-271"><span class="linenos">271</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_start_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="InputStore-272"><a href="#InputStore-272"><span class="linenos">272</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip start and end frames from an element of original coordinates.</span>
</span><span id="InputStore-273"><a href="#InputStore-273"><span class="linenos">273</span></a>
</span><span id="InputStore-274"><a href="#InputStore-274"><span class="linenos">274</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-275"><a href="#InputStore-275"><span class="linenos">275</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-276"><a href="#InputStore-276"><span class="linenos">276</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore-277"><a href="#InputStore-277"><span class="linenos">277</span></a><span class="sd">            an element of original coordinates array</span>
</span><span id="InputStore-278"><a href="#InputStore-278"><span class="linenos">278</span></a>
</span><span id="InputStore-279"><a href="#InputStore-279"><span class="linenos">279</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-280"><a href="#InputStore-280"><span class="linenos">280</span></a><span class="sd">        -------</span>
</span><span id="InputStore-281"><a href="#InputStore-281"><span class="linenos">281</span></a><span class="sd">        start: int</span>
</span><span id="InputStore-282"><a href="#InputStore-282"><span class="linenos">282</span></a><span class="sd">            the start frame of the clip that the coordinates point to</span>
</span><span id="InputStore-283"><a href="#InputStore-283"><span class="linenos">283</span></a><span class="sd">        end : int</span>
</span><span id="InputStore-284"><a href="#InputStore-284"><span class="linenos">284</span></a><span class="sd">            the end frame of the clip that the coordinates point to</span>
</span><span id="InputStore-285"><a href="#InputStore-285"><span class="linenos">285</span></a>
</span><span id="InputStore-286"><a href="#InputStore-286"><span class="linenos">286</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-287"><a href="#InputStore-287"><span class="linenos">287</span></a>
</span><span id="InputStore-288"><a href="#InputStore-288"><span class="linenos">288</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-289"><a href="#InputStore-289"><span class="linenos">289</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="InputStore-290"><a href="#InputStore-290"><span class="linenos">290</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip start frame from the video id and the clip id.</span>
</span><span id="InputStore-291"><a href="#InputStore-291"><span class="linenos">291</span></a>
</span><span id="InputStore-292"><a href="#InputStore-292"><span class="linenos">292</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-293"><a href="#InputStore-293"><span class="linenos">293</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-294"><a href="#InputStore-294"><span class="linenos">294</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore-295"><a href="#InputStore-295"><span class="linenos">295</span></a><span class="sd">            the video id</span>
</span><span id="InputStore-296"><a href="#InputStore-296"><span class="linenos">296</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore-297"><a href="#InputStore-297"><span class="linenos">297</span></a><span class="sd">            the clip id</span>
</span><span id="InputStore-298"><a href="#InputStore-298"><span class="linenos">298</span></a>
</span><span id="InputStore-299"><a href="#InputStore-299"><span class="linenos">299</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-300"><a href="#InputStore-300"><span class="linenos">300</span></a><span class="sd">        -------</span>
</span><span id="InputStore-301"><a href="#InputStore-301"><span class="linenos">301</span></a><span class="sd">        clip_start : int</span>
</span><span id="InputStore-302"><a href="#InputStore-302"><span class="linenos">302</span></a><span class="sd">            the start frame of the clip</span>
</span><span id="InputStore-303"><a href="#InputStore-303"><span class="linenos">303</span></a>
</span><span id="InputStore-304"><a href="#InputStore-304"><span class="linenos">304</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-305"><a href="#InputStore-305"><span class="linenos">305</span></a>
</span><span id="InputStore-306"><a href="#InputStore-306"><span class="linenos">306</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-307"><a href="#InputStore-307"><span class="linenos">307</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_visibility</span><span class="p">(</span>
</span><span id="InputStore-308"><a href="#InputStore-308"><span class="linenos">308</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">score</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="InputStore-309"><a href="#InputStore-309"><span class="linenos">309</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="InputStore-310"><a href="#InputStore-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the fraction of the frames in that have a visibility score better than a hard_threshold.</span>
</span><span id="InputStore-311"><a href="#InputStore-311"><span class="linenos">311</span></a>
</span><span id="InputStore-312"><a href="#InputStore-312"><span class="linenos">312</span></a><span class="sd">        For example, in the case of keypoint data the visibility score can be the number of identified keypoints.</span>
</span><span id="InputStore-313"><a href="#InputStore-313"><span class="linenos">313</span></a>
</span><span id="InputStore-314"><a href="#InputStore-314"><span class="linenos">314</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-315"><a href="#InputStore-315"><span class="linenos">315</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-316"><a href="#InputStore-316"><span class="linenos">316</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore-317"><a href="#InputStore-317"><span class="linenos">317</span></a><span class="sd">            the video id of the frames</span>
</span><span id="InputStore-318"><a href="#InputStore-318"><span class="linenos">318</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore-319"><a href="#InputStore-319"><span class="linenos">319</span></a><span class="sd">            the clip id of the frames</span>
</span><span id="InputStore-320"><a href="#InputStore-320"><span class="linenos">320</span></a><span class="sd">        start : int</span>
</span><span id="InputStore-321"><a href="#InputStore-321"><span class="linenos">321</span></a><span class="sd">            the start frame</span>
</span><span id="InputStore-322"><a href="#InputStore-322"><span class="linenos">322</span></a><span class="sd">        end : int</span>
</span><span id="InputStore-323"><a href="#InputStore-323"><span class="linenos">323</span></a><span class="sd">            the end frame</span>
</span><span id="InputStore-324"><a href="#InputStore-324"><span class="linenos">324</span></a><span class="sd">        score : float</span>
</span><span id="InputStore-325"><a href="#InputStore-325"><span class="linenos">325</span></a><span class="sd">            the visibility score hard_threshold</span>
</span><span id="InputStore-326"><a href="#InputStore-326"><span class="linenos">326</span></a>
</span><span id="InputStore-327"><a href="#InputStore-327"><span class="linenos">327</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-328"><a href="#InputStore-328"><span class="linenos">328</span></a><span class="sd">        -------</span>
</span><span id="InputStore-329"><a href="#InputStore-329"><span class="linenos">329</span></a><span class="sd">        frac_visible: float</span>
</span><span id="InputStore-330"><a href="#InputStore-330"><span class="linenos">330</span></a><span class="sd">            the fraction of frames with visibility above the hard_threshold</span>
</span><span id="InputStore-331"><a href="#InputStore-331"><span class="linenos">331</span></a>
</span><span id="InputStore-332"><a href="#InputStore-332"><span class="linenos">332</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-333"><a href="#InputStore-333"><span class="linenos">333</span></a>
</span><span id="InputStore-334"><a href="#InputStore-334"><span class="linenos">334</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-335"><a href="#InputStore-335"><span class="linenos">335</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_annotation_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="InputStore-336"><a href="#InputStore-336"><span class="linenos">336</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary of objects necessary to create an `BehaviorStore`.</span>
</span><span id="InputStore-337"><a href="#InputStore-337"><span class="linenos">337</span></a>
</span><span id="InputStore-338"><a href="#InputStore-338"><span class="linenos">338</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-339"><a href="#InputStore-339"><span class="linenos">339</span></a><span class="sd">        -------</span>
</span><span id="InputStore-340"><a href="#InputStore-340"><span class="linenos">340</span></a><span class="sd">        annotation_objects : dict</span>
</span><span id="InputStore-341"><a href="#InputStore-341"><span class="linenos">341</span></a><span class="sd">            a dictionary of objects to be passed to the BehaviorStore constructor where the keys are the names of</span>
</span><span id="InputStore-342"><a href="#InputStore-342"><span class="linenos">342</span></a><span class="sd">            the objects</span>
</span><span id="InputStore-343"><a href="#InputStore-343"><span class="linenos">343</span></a>
</span><span id="InputStore-344"><a href="#InputStore-344"><span class="linenos">344</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-345"><a href="#InputStore-345"><span class="linenos">345</span></a>
</span><span id="InputStore-346"><a href="#InputStore-346"><span class="linenos">346</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore-347"><a href="#InputStore-347"><span class="linenos">347</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="InputStore-348"><a href="#InputStore-348"><span class="linenos">348</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the input folder that the file with this video id was read from.</span>
</span><span id="InputStore-349"><a href="#InputStore-349"><span class="linenos">349</span></a>
</span><span id="InputStore-350"><a href="#InputStore-350"><span class="linenos">350</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-351"><a href="#InputStore-351"><span class="linenos">351</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-352"><a href="#InputStore-352"><span class="linenos">352</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore-353"><a href="#InputStore-353"><span class="linenos">353</span></a><span class="sd">            the video id</span>
</span><span id="InputStore-354"><a href="#InputStore-354"><span class="linenos">354</span></a>
</span><span id="InputStore-355"><a href="#InputStore-355"><span class="linenos">355</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-356"><a href="#InputStore-356"><span class="linenos">356</span></a><span class="sd">        -------</span>
</span><span id="InputStore-357"><a href="#InputStore-357"><span class="linenos">357</span></a><span class="sd">        folder : str</span>
</span><span id="InputStore-358"><a href="#InputStore-358"><span class="linenos">358</span></a><span class="sd">            the path to the directory that contains the input file associated with the video id</span>
</span><span id="InputStore-359"><a href="#InputStore-359"><span class="linenos">359</span></a>
</span><span id="InputStore-360"><a href="#InputStore-360"><span class="linenos">360</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-361"><a href="#InputStore-361"><span class="linenos">361</span></a>
</span><span id="InputStore-362"><a href="#InputStore-362"><span class="linenos">362</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_length_from_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="InputStore-363"><a href="#InputStore-363"><span class="linenos">363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of a clip from an element of the original coordinates array.</span>
</span><span id="InputStore-364"><a href="#InputStore-364"><span class="linenos">364</span></a>
</span><span id="InputStore-365"><a href="#InputStore-365"><span class="linenos">365</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-366"><a href="#InputStore-366"><span class="linenos">366</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-367"><a href="#InputStore-367"><span class="linenos">367</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore-368"><a href="#InputStore-368"><span class="linenos">368</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="InputStore-369"><a href="#InputStore-369"><span class="linenos">369</span></a>
</span><span id="InputStore-370"><a href="#InputStore-370"><span class="linenos">370</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-371"><a href="#InputStore-371"><span class="linenos">371</span></a><span class="sd">        -------</span>
</span><span id="InputStore-372"><a href="#InputStore-372"><span class="linenos">372</span></a><span class="sd">        clip_length : int</span>
</span><span id="InputStore-373"><a href="#InputStore-373"><span class="linenos">373</span></a><span class="sd">            the length of the clip</span>
</span><span id="InputStore-374"><a href="#InputStore-374"><span class="linenos">374</span></a>
</span><span id="InputStore-375"><a href="#InputStore-375"><span class="linenos">375</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-376"><a href="#InputStore-376"><span class="linenos">376</span></a>        <span class="n">v_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_video_id</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
</span><span id="InputStore-377"><a href="#InputStore-377"><span class="linenos">377</span></a>        <span class="n">clip_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_clip_id</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
</span><span id="InputStore-378"><a href="#InputStore-378"><span class="linenos">378</span></a>        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_clip_length</span><span class="p">(</span><span class="n">v_id</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">)</span>
</span><span id="InputStore-379"><a href="#InputStore-379"><span class="linenos">379</span></a>        <span class="k">return</span> <span class="n">l</span>
</span><span id="InputStore-380"><a href="#InputStore-380"><span class="linenos">380</span></a>
</span><span id="InputStore-381"><a href="#InputStore-381"><span class="linenos">381</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_folder_order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore-382"><a href="#InputStore-382"><span class="linenos">382</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of folders corresponding to the data samples.</span>
</span><span id="InputStore-383"><a href="#InputStore-383"><span class="linenos">383</span></a>
</span><span id="InputStore-384"><a href="#InputStore-384"><span class="linenos">384</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-385"><a href="#InputStore-385"><span class="linenos">385</span></a><span class="sd">        -------</span>
</span><span id="InputStore-386"><a href="#InputStore-386"><span class="linenos">386</span></a><span class="sd">        folder_order : list</span>
</span><span id="InputStore-387"><a href="#InputStore-387"><span class="linenos">387</span></a><span class="sd">            a list of string folder basenames corresponding to the data samples (e.g. &#39;folder2&#39;</span>
</span><span id="InputStore-388"><a href="#InputStore-388"><span class="linenos">388</span></a><span class="sd">            if the corresponding file was read from &#39;/path/to/folder1/folder2&#39;)</span>
</span><span id="InputStore-389"><a href="#InputStore-389"><span class="linenos">389</span></a>
</span><span id="InputStore-390"><a href="#InputStore-390"><span class="linenos">390</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-391"><a href="#InputStore-391"><span class="linenos">391</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_folder</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_video_id_order</span><span class="p">()]</span>
</span><span id="InputStore-392"><a href="#InputStore-392"><span class="linenos">392</span></a>
</span><span id="InputStore-393"><a href="#InputStore-393"><span class="linenos">393</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_video_id_order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore-394"><a href="#InputStore-394"><span class="linenos">394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of video ids corresponding to the data samples.</span>
</span><span id="InputStore-395"><a href="#InputStore-395"><span class="linenos">395</span></a>
</span><span id="InputStore-396"><a href="#InputStore-396"><span class="linenos">396</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-397"><a href="#InputStore-397"><span class="linenos">397</span></a><span class="sd">        -------</span>
</span><span id="InputStore-398"><a href="#InputStore-398"><span class="linenos">398</span></a><span class="sd">        video_id_order : list</span>
</span><span id="InputStore-399"><a href="#InputStore-399"><span class="linenos">399</span></a><span class="sd">            a list of string names of the video ids corresponding to the data samples</span>
</span><span id="InputStore-400"><a href="#InputStore-400"><span class="linenos">400</span></a>
</span><span id="InputStore-401"><a href="#InputStore-401"><span class="linenos">401</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-402"><a href="#InputStore-402"><span class="linenos">402</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_video_id</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_original_coordinates</span><span class="p">()]</span>
</span><span id="InputStore-403"><a href="#InputStore-403"><span class="linenos">403</span></a>
</span><span id="InputStore-404"><a href="#InputStore-404"><span class="linenos">404</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="InputStore-405"><a href="#InputStore-405"><span class="linenos">405</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a tag object corresponding to an index.</span>
</span><span id="InputStore-406"><a href="#InputStore-406"><span class="linenos">406</span></a>
</span><span id="InputStore-407"><a href="#InputStore-407"><span class="linenos">407</span></a><span class="sd">        Tags can carry meta information (like annotator id) and are accepted by models that require</span>
</span><span id="InputStore-408"><a href="#InputStore-408"><span class="linenos">408</span></a><span class="sd">        that information and by metrics (some metrics have options for averaging over the tags).</span>
</span><span id="InputStore-409"><a href="#InputStore-409"><span class="linenos">409</span></a><span class="sd">        When a tag is `None`, it is not passed to the model.</span>
</span><span id="InputStore-410"><a href="#InputStore-410"><span class="linenos">410</span></a>
</span><span id="InputStore-411"><a href="#InputStore-411"><span class="linenos">411</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-412"><a href="#InputStore-412"><span class="linenos">412</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-413"><a href="#InputStore-413"><span class="linenos">413</span></a><span class="sd">        idx : int</span>
</span><span id="InputStore-414"><a href="#InputStore-414"><span class="linenos">414</span></a><span class="sd">            the index</span>
</span><span id="InputStore-415"><a href="#InputStore-415"><span class="linenos">415</span></a>
</span><span id="InputStore-416"><a href="#InputStore-416"><span class="linenos">416</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-417"><a href="#InputStore-417"><span class="linenos">417</span></a><span class="sd">        -------</span>
</span><span id="InputStore-418"><a href="#InputStore-418"><span class="linenos">418</span></a><span class="sd">        tag : int</span>
</span><span id="InputStore-419"><a href="#InputStore-419"><span class="linenos">419</span></a><span class="sd">            the tag index</span>
</span><span id="InputStore-420"><a href="#InputStore-420"><span class="linenos">420</span></a>
</span><span id="InputStore-421"><a href="#InputStore-421"><span class="linenos">421</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-422"><a href="#InputStore-422"><span class="linenos">422</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="InputStore-423"><a href="#InputStore-423"><span class="linenos">423</span></a>
</span><span id="InputStore-424"><a href="#InputStore-424"><span class="linenos">424</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore-425"><a href="#InputStore-425"><span class="linenos">425</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of indices of samples that have a specific meta tag.</span>
</span><span id="InputStore-426"><a href="#InputStore-426"><span class="linenos">426</span></a>
</span><span id="InputStore-427"><a href="#InputStore-427"><span class="linenos">427</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore-428"><a href="#InputStore-428"><span class="linenos">428</span></a><span class="sd">        ----------</span>
</span><span id="InputStore-429"><a href="#InputStore-429"><span class="linenos">429</span></a><span class="sd">        tag : int</span>
</span><span id="InputStore-430"><a href="#InputStore-430"><span class="linenos">430</span></a><span class="sd">            the meta tag for the subsample (`None` for the whole dataset)</span>
</span><span id="InputStore-431"><a href="#InputStore-431"><span class="linenos">431</span></a>
</span><span id="InputStore-432"><a href="#InputStore-432"><span class="linenos">432</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-433"><a href="#InputStore-433"><span class="linenos">433</span></a><span class="sd">        -------</span>
</span><span id="InputStore-434"><a href="#InputStore-434"><span class="linenos">434</span></a><span class="sd">        indices : list</span>
</span><span id="InputStore-435"><a href="#InputStore-435"><span class="linenos">435</span></a><span class="sd">            a list of indices that meet the criteria</span>
</span><span id="InputStore-436"><a href="#InputStore-436"><span class="linenos">436</span></a>
</span><span id="InputStore-437"><a href="#InputStore-437"><span class="linenos">437</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-438"><a href="#InputStore-438"><span class="linenos">438</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span>
</span><span id="InputStore-439"><a href="#InputStore-439"><span class="linenos">439</span></a>
</span><span id="InputStore-440"><a href="#InputStore-440"><span class="linenos">440</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore-441"><a href="#InputStore-441"><span class="linenos">441</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all meta tags.</span>
</span><span id="InputStore-442"><a href="#InputStore-442"><span class="linenos">442</span></a>
</span><span id="InputStore-443"><a href="#InputStore-443"><span class="linenos">443</span></a><span class="sd">        Returns</span>
</span><span id="InputStore-444"><a href="#InputStore-444"><span class="linenos">444</span></a><span class="sd">        -------</span>
</span><span id="InputStore-445"><a href="#InputStore-445"><span class="linenos">445</span></a><span class="sd">        tags: List</span>
</span><span id="InputStore-446"><a href="#InputStore-446"><span class="linenos">446</span></a><span class="sd">            a list of unique meta tag values</span>
</span><span id="InputStore-447"><a href="#InputStore-447"><span class="linenos">447</span></a>
</span><span id="InputStore-448"><a href="#InputStore-448"><span class="linenos">448</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore-449"><a href="#InputStore-449"><span class="linenos">449</span></a>        <span class="k">return</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>A class that generates model input data from video information and stores it.</p>

<p>Processes input video information and generates ordered arrays of data samples and corresponding unique
original coordinates, as well as some meta objects.
It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).
Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).
The original coordinates object contains information about the video_id, clip_id and start time of the
samples in the original input data.
An InputStore has to be fully defined with a tuple of key objects.
The data array can be accessed with integer indices.
The samples can be stored as a TensorDict in RAM or as an array of file paths to be loaded on runtime.
When no arguments are passed a blank class instance should be created that can later be filled with
information from key objects</p>
</div>


                            <div id="InputStore.__init__" class="classattr">
                                        <input id="InputStore.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="name">InputStore</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">data_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">file_paths</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">feature_save_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">feature_extraction_pars</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="InputStore.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.__init__-169"><a href="#InputStore.__init__-169"><span class="linenos">169</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.__init__-170"><a href="#InputStore.__init__-170"><span class="linenos">170</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="InputStore.__init__-171"><a href="#InputStore.__init__-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="InputStore.__init__-172"><a href="#InputStore.__init__-172"><span class="linenos">172</span></a>        <span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore.__init__-173"><a href="#InputStore.__init__-173"><span class="linenos">173</span></a>        <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore.__init__-174"><a href="#InputStore.__init__-174"><span class="linenos">174</span></a>        <span class="n">data_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore.__init__-175"><a href="#InputStore.__init__-175"><span class="linenos">175</span></a>        <span class="n">file_paths</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore.__init__-176"><a href="#InputStore.__init__-176"><span class="linenos">176</span></a>        <span class="n">feature_save_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore.__init__-177"><a href="#InputStore.__init__-177"><span class="linenos">177</span></a>        <span class="n">feature_extraction_pars</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="InputStore.__init__-178"><a href="#InputStore.__init__-178"><span class="linenos">178</span></a>        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
</span><span id="InputStore.__init__-179"><a href="#InputStore.__init__-179"><span class="linenos">179</span></a>        <span class="o">**</span><span class="n">kwargs</span>
</span><span id="InputStore.__init__-180"><a href="#InputStore.__init__-180"><span class="linenos">180</span></a>    <span class="p">):</span>
</span><span id="InputStore.__init__-181"><a href="#InputStore.__init__-181"><span class="linenos">181</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a class instance.</span>
</span><span id="InputStore.__init__-182"><a href="#InputStore.__init__-182"><span class="linenos">182</span></a>
</span><span id="InputStore.__init__-183"><a href="#InputStore.__init__-183"><span class="linenos">183</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.__init__-184"><a href="#InputStore.__init__-184"><span class="linenos">184</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.__init__-185"><a href="#InputStore.__init__-185"><span class="linenos">185</span></a><span class="sd">        video_order : list, optional</span>
</span><span id="InputStore.__init__-186"><a href="#InputStore.__init__-186"><span class="linenos">186</span></a><span class="sd">            a list of video ids that should be processed in the same order (not passed if creating from key objects)</span>
</span><span id="InputStore.__init__-187"><a href="#InputStore.__init__-187"><span class="linenos">187</span></a><span class="sd">        key_objects : tuple, optional</span>
</span><span id="InputStore.__init__-188"><a href="#InputStore.__init__-188"><span class="linenos">188</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="InputStore.__init__-189"><a href="#InputStore.__init__-189"><span class="linenos">189</span></a><span class="sd">        data_path : str | set, optional</span>
</span><span id="InputStore.__init__-190"><a href="#InputStore.__init__-190"><span class="linenos">190</span></a><span class="sd">            the path to the folder where the pose and feature files are stored or a set of such paths</span>
</span><span id="InputStore.__init__-191"><a href="#InputStore.__init__-191"><span class="linenos">191</span></a><span class="sd">            (not passed if creating from key objects or from `file_paths`)</span>
</span><span id="InputStore.__init__-192"><a href="#InputStore.__init__-192"><span class="linenos">192</span></a><span class="sd">        file_paths : set, optional</span>
</span><span id="InputStore.__init__-193"><a href="#InputStore.__init__-193"><span class="linenos">193</span></a><span class="sd">            a set of string paths to the pose and feature files</span>
</span><span id="InputStore.__init__-194"><a href="#InputStore.__init__-194"><span class="linenos">194</span></a><span class="sd">            (not passed if creating from key objects or from `data_path`)</span>
</span><span id="InputStore.__init__-195"><a href="#InputStore.__init__-195"><span class="linenos">195</span></a><span class="sd">        feature_save_path : str, optional</span>
</span><span id="InputStore.__init__-196"><a href="#InputStore.__init__-196"><span class="linenos">196</span></a><span class="sd">            the path to the folder where pre-processed files are stored (not passed if creating from key objects)</span>
</span><span id="InputStore.__init__-197"><a href="#InputStore.__init__-197"><span class="linenos">197</span></a><span class="sd">        feature_extraction_pars : dict, optional</span>
</span><span id="InputStore.__init__-198"><a href="#InputStore.__init__-198"><span class="linenos">198</span></a><span class="sd">            a dictionary of feature extraction parameters (not passed if creating from key objects)</span>
</span><span id="InputStore.__init__-199"><a href="#InputStore.__init__-199"><span class="linenos">199</span></a>
</span><span id="InputStore.__init__-200"><a href="#InputStore.__init__-200"><span class="linenos">200</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore.__init__-201"><a href="#InputStore.__init__-201"><span class="linenos">201</span></a>        <span class="k">if</span> <span class="n">key_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="InputStore.__init__-202"><a href="#InputStore.__init__-202"><span class="linenos">202</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">load_from_key_objects</span><span class="p">(</span><span class="n">key_objects</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a class instance.</p>

<h2 id="parameters">Parameters</h2>

<p>video_order : list, optional
    a list of video ids that should be processed in the same order (not passed if creating from key objects)
key_objects : tuple, optional
    a tuple of key objects
data_path : str | set, optional
    the path to the folder where the pose and feature files are stored or a set of such paths
    (not passed if creating from key objects or from <code>file_paths</code>)
file_paths : set, optional
    a set of string paths to the pose and feature files
    (not passed if creating from key objects or from <code>data_path</code>)
feature_save_path : str, optional
    the path to the folder where pre-processed files are stored (not passed if creating from key objects)
feature_extraction_pars : dict, optional
    a dictionary of feature extraction parameters (not passed if creating from key objects)</p>
</div>


                            </div>
                            <div id="InputStore.get_video_id" class="classattr">
                                        <input id="InputStore.get_video_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_video_id</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_video_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_video_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_video_id-220"><a href="#InputStore.get_video_id-220"><span class="linenos">220</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_video_id-221"><a href="#InputStore.get_video_id-221"><span class="linenos">221</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_video_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="InputStore.get_video_id-222"><a href="#InputStore.get_video_id-222"><span class="linenos">222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the video id from an element of original coordinates.</span>
</span><span id="InputStore.get_video_id-223"><a href="#InputStore.get_video_id-223"><span class="linenos">223</span></a>
</span><span id="InputStore.get_video_id-224"><a href="#InputStore.get_video_id-224"><span class="linenos">224</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_video_id-225"><a href="#InputStore.get_video_id-225"><span class="linenos">225</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_video_id-226"><a href="#InputStore.get_video_id-226"><span class="linenos">226</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore.get_video_id-227"><a href="#InputStore.get_video_id-227"><span class="linenos">227</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="InputStore.get_video_id-228"><a href="#InputStore.get_video_id-228"><span class="linenos">228</span></a>
</span><span id="InputStore.get_video_id-229"><a href="#InputStore.get_video_id-229"><span class="linenos">229</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_video_id-230"><a href="#InputStore.get_video_id-230"><span class="linenos">230</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_video_id-231"><a href="#InputStore.get_video_id-231"><span class="linenos">231</span></a><span class="sd">        video_id: str</span>
</span><span id="InputStore.get_video_id-232"><a href="#InputStore.get_video_id-232"><span class="linenos">232</span></a><span class="sd">            the id of the video that the coordinates point to</span>
</span><span id="InputStore.get_video_id-233"><a href="#InputStore.get_video_id-233"><span class="linenos">233</span></a>
</span><span id="InputStore.get_video_id-234"><a href="#InputStore.get_video_id-234"><span class="linenos">234</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the video id from an element of original coordinates.</p>

<h2 id="parameters">Parameters</h2>

<p>coords : tuple
    an element of the original coordinates array</p>

<h2 id="returns">Returns</h2>

<p>video_id: str
    the id of the video that the coordinates point to</p>
</div>


                            </div>
                            <div id="InputStore.get_clip_id" class="classattr">
                                        <input id="InputStore.get_clip_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_clip_id</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_clip_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_clip_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_clip_id-236"><a href="#InputStore.get_clip_id-236"><span class="linenos">236</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_clip_id-237"><a href="#InputStore.get_clip_id-237"><span class="linenos">237</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="InputStore.get_clip_id-238"><a href="#InputStore.get_clip_id-238"><span class="linenos">238</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip id from an element of original coordinates.</span>
</span><span id="InputStore.get_clip_id-239"><a href="#InputStore.get_clip_id-239"><span class="linenos">239</span></a>
</span><span id="InputStore.get_clip_id-240"><a href="#InputStore.get_clip_id-240"><span class="linenos">240</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_clip_id-241"><a href="#InputStore.get_clip_id-241"><span class="linenos">241</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_clip_id-242"><a href="#InputStore.get_clip_id-242"><span class="linenos">242</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore.get_clip_id-243"><a href="#InputStore.get_clip_id-243"><span class="linenos">243</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="InputStore.get_clip_id-244"><a href="#InputStore.get_clip_id-244"><span class="linenos">244</span></a>
</span><span id="InputStore.get_clip_id-245"><a href="#InputStore.get_clip_id-245"><span class="linenos">245</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_clip_id-246"><a href="#InputStore.get_clip_id-246"><span class="linenos">246</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_clip_id-247"><a href="#InputStore.get_clip_id-247"><span class="linenos">247</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore.get_clip_id-248"><a href="#InputStore.get_clip_id-248"><span class="linenos">248</span></a><span class="sd">            the id of the clip that the coordinates point to</span>
</span><span id="InputStore.get_clip_id-249"><a href="#InputStore.get_clip_id-249"><span class="linenos">249</span></a>
</span><span id="InputStore.get_clip_id-250"><a href="#InputStore.get_clip_id-250"><span class="linenos">250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the clip id from an element of original coordinates.</p>

<h2 id="parameters">Parameters</h2>

<p>coords : tuple
    an element of the original coordinates array</p>

<h2 id="returns">Returns</h2>

<p>clip_id : str
    the id of the clip that the coordinates point to</p>
</div>


                            </div>
                            <div id="InputStore.get_clip_length" class="classattr">
                                        <input id="InputStore.get_clip_length-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_clip_length</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_clip_length-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_clip_length"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_clip_length-252"><a href="#InputStore.get_clip_length-252"><span class="linenos">252</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_clip_length-253"><a href="#InputStore.get_clip_length-253"><span class="linenos">253</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="InputStore.get_clip_length-254"><a href="#InputStore.get_clip_length-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip length from the id.</span>
</span><span id="InputStore.get_clip_length-255"><a href="#InputStore.get_clip_length-255"><span class="linenos">255</span></a>
</span><span id="InputStore.get_clip_length-256"><a href="#InputStore.get_clip_length-256"><span class="linenos">256</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_clip_length-257"><a href="#InputStore.get_clip_length-257"><span class="linenos">257</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_clip_length-258"><a href="#InputStore.get_clip_length-258"><span class="linenos">258</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore.get_clip_length-259"><a href="#InputStore.get_clip_length-259"><span class="linenos">259</span></a><span class="sd">            the video id</span>
</span><span id="InputStore.get_clip_length-260"><a href="#InputStore.get_clip_length-260"><span class="linenos">260</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore.get_clip_length-261"><a href="#InputStore.get_clip_length-261"><span class="linenos">261</span></a><span class="sd">            the clip id</span>
</span><span id="InputStore.get_clip_length-262"><a href="#InputStore.get_clip_length-262"><span class="linenos">262</span></a>
</span><span id="InputStore.get_clip_length-263"><a href="#InputStore.get_clip_length-263"><span class="linenos">263</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_clip_length-264"><a href="#InputStore.get_clip_length-264"><span class="linenos">264</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_clip_length-265"><a href="#InputStore.get_clip_length-265"><span class="linenos">265</span></a><span class="sd">        clip_length : int</span>
</span><span id="InputStore.get_clip_length-266"><a href="#InputStore.get_clip_length-266"><span class="linenos">266</span></a><span class="sd">            the length of the clip</span>
</span><span id="InputStore.get_clip_length-267"><a href="#InputStore.get_clip_length-267"><span class="linenos">267</span></a>
</span><span id="InputStore.get_clip_length-268"><a href="#InputStore.get_clip_length-268"><span class="linenos">268</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the clip length from the id.</p>

<h2 id="parameters">Parameters</h2>

<p>video_id : str
    the video id
clip_id : str
    the clip id</p>

<h2 id="returns">Returns</h2>

<p>clip_length : int
    the length of the clip</p>
</div>


                            </div>
                            <div id="InputStore.get_clip_start_end" class="classattr">
                                        <input id="InputStore.get_clip_start_end-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_clip_start_end</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span></span><span class="return-annotation">) -> (&lt;class &#x27;int&#x27;&gt;, &lt;class &#x27;int&#x27;&gt;):</span></span>

                <label class="view-source-button" for="InputStore.get_clip_start_end-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_clip_start_end"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_clip_start_end-270"><a href="#InputStore.get_clip_start_end-270"><span class="linenos">270</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_clip_start_end-271"><a href="#InputStore.get_clip_start_end-271"><span class="linenos">271</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_start_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="InputStore.get_clip_start_end-272"><a href="#InputStore.get_clip_start_end-272"><span class="linenos">272</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip start and end frames from an element of original coordinates.</span>
</span><span id="InputStore.get_clip_start_end-273"><a href="#InputStore.get_clip_start_end-273"><span class="linenos">273</span></a>
</span><span id="InputStore.get_clip_start_end-274"><a href="#InputStore.get_clip_start_end-274"><span class="linenos">274</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_clip_start_end-275"><a href="#InputStore.get_clip_start_end-275"><span class="linenos">275</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_clip_start_end-276"><a href="#InputStore.get_clip_start_end-276"><span class="linenos">276</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore.get_clip_start_end-277"><a href="#InputStore.get_clip_start_end-277"><span class="linenos">277</span></a><span class="sd">            an element of original coordinates array</span>
</span><span id="InputStore.get_clip_start_end-278"><a href="#InputStore.get_clip_start_end-278"><span class="linenos">278</span></a>
</span><span id="InputStore.get_clip_start_end-279"><a href="#InputStore.get_clip_start_end-279"><span class="linenos">279</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_clip_start_end-280"><a href="#InputStore.get_clip_start_end-280"><span class="linenos">280</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_clip_start_end-281"><a href="#InputStore.get_clip_start_end-281"><span class="linenos">281</span></a><span class="sd">        start: int</span>
</span><span id="InputStore.get_clip_start_end-282"><a href="#InputStore.get_clip_start_end-282"><span class="linenos">282</span></a><span class="sd">            the start frame of the clip that the coordinates point to</span>
</span><span id="InputStore.get_clip_start_end-283"><a href="#InputStore.get_clip_start_end-283"><span class="linenos">283</span></a><span class="sd">        end : int</span>
</span><span id="InputStore.get_clip_start_end-284"><a href="#InputStore.get_clip_start_end-284"><span class="linenos">284</span></a><span class="sd">            the end frame of the clip that the coordinates point to</span>
</span><span id="InputStore.get_clip_start_end-285"><a href="#InputStore.get_clip_start_end-285"><span class="linenos">285</span></a>
</span><span id="InputStore.get_clip_start_end-286"><a href="#InputStore.get_clip_start_end-286"><span class="linenos">286</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the clip start and end frames from an element of original coordinates.</p>

<h2 id="parameters">Parameters</h2>

<p>coords : tuple
    an element of original coordinates array</p>

<h2 id="returns">Returns</h2>

<p>start: int
    the start frame of the clip that the coordinates point to
end : int
    the end frame of the clip that the coordinates point to</p>
</div>


                            </div>
                            <div id="InputStore.get_clip_start" class="classattr">
                                        <input id="InputStore.get_clip_start-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_clip_start</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_clip_start-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_clip_start"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_clip_start-288"><a href="#InputStore.get_clip_start-288"><span class="linenos">288</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_clip_start-289"><a href="#InputStore.get_clip_start-289"><span class="linenos">289</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="InputStore.get_clip_start-290"><a href="#InputStore.get_clip_start-290"><span class="linenos">290</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the clip start frame from the video id and the clip id.</span>
</span><span id="InputStore.get_clip_start-291"><a href="#InputStore.get_clip_start-291"><span class="linenos">291</span></a>
</span><span id="InputStore.get_clip_start-292"><a href="#InputStore.get_clip_start-292"><span class="linenos">292</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_clip_start-293"><a href="#InputStore.get_clip_start-293"><span class="linenos">293</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_clip_start-294"><a href="#InputStore.get_clip_start-294"><span class="linenos">294</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore.get_clip_start-295"><a href="#InputStore.get_clip_start-295"><span class="linenos">295</span></a><span class="sd">            the video id</span>
</span><span id="InputStore.get_clip_start-296"><a href="#InputStore.get_clip_start-296"><span class="linenos">296</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore.get_clip_start-297"><a href="#InputStore.get_clip_start-297"><span class="linenos">297</span></a><span class="sd">            the clip id</span>
</span><span id="InputStore.get_clip_start-298"><a href="#InputStore.get_clip_start-298"><span class="linenos">298</span></a>
</span><span id="InputStore.get_clip_start-299"><a href="#InputStore.get_clip_start-299"><span class="linenos">299</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_clip_start-300"><a href="#InputStore.get_clip_start-300"><span class="linenos">300</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_clip_start-301"><a href="#InputStore.get_clip_start-301"><span class="linenos">301</span></a><span class="sd">        clip_start : int</span>
</span><span id="InputStore.get_clip_start-302"><a href="#InputStore.get_clip_start-302"><span class="linenos">302</span></a><span class="sd">            the start frame of the clip</span>
</span><span id="InputStore.get_clip_start-303"><a href="#InputStore.get_clip_start-303"><span class="linenos">303</span></a>
</span><span id="InputStore.get_clip_start-304"><a href="#InputStore.get_clip_start-304"><span class="linenos">304</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the clip start frame from the video id and the clip id.</p>

<h2 id="parameters">Parameters</h2>

<p>video_id : str
    the video id
clip_id : str
    the clip id</p>

<h2 id="returns">Returns</h2>

<p>clip_start : int
    the start frame of the clip</p>
</div>


                            </div>
                            <div id="InputStore.get_visibility" class="classattr">
                                        <input id="InputStore.get_visibility-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_visibility</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">start</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">score</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_visibility-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_visibility"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_visibility-306"><a href="#InputStore.get_visibility-306"><span class="linenos">306</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_visibility-307"><a href="#InputStore.get_visibility-307"><span class="linenos">307</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_visibility</span><span class="p">(</span>
</span><span id="InputStore.get_visibility-308"><a href="#InputStore.get_visibility-308"><span class="linenos">308</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">score</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="InputStore.get_visibility-309"><a href="#InputStore.get_visibility-309"><span class="linenos">309</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="InputStore.get_visibility-310"><a href="#InputStore.get_visibility-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the fraction of the frames in that have a visibility score better than a hard_threshold.</span>
</span><span id="InputStore.get_visibility-311"><a href="#InputStore.get_visibility-311"><span class="linenos">311</span></a>
</span><span id="InputStore.get_visibility-312"><a href="#InputStore.get_visibility-312"><span class="linenos">312</span></a><span class="sd">        For example, in the case of keypoint data the visibility score can be the number of identified keypoints.</span>
</span><span id="InputStore.get_visibility-313"><a href="#InputStore.get_visibility-313"><span class="linenos">313</span></a>
</span><span id="InputStore.get_visibility-314"><a href="#InputStore.get_visibility-314"><span class="linenos">314</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_visibility-315"><a href="#InputStore.get_visibility-315"><span class="linenos">315</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_visibility-316"><a href="#InputStore.get_visibility-316"><span class="linenos">316</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore.get_visibility-317"><a href="#InputStore.get_visibility-317"><span class="linenos">317</span></a><span class="sd">            the video id of the frames</span>
</span><span id="InputStore.get_visibility-318"><a href="#InputStore.get_visibility-318"><span class="linenos">318</span></a><span class="sd">        clip_id : str</span>
</span><span id="InputStore.get_visibility-319"><a href="#InputStore.get_visibility-319"><span class="linenos">319</span></a><span class="sd">            the clip id of the frames</span>
</span><span id="InputStore.get_visibility-320"><a href="#InputStore.get_visibility-320"><span class="linenos">320</span></a><span class="sd">        start : int</span>
</span><span id="InputStore.get_visibility-321"><a href="#InputStore.get_visibility-321"><span class="linenos">321</span></a><span class="sd">            the start frame</span>
</span><span id="InputStore.get_visibility-322"><a href="#InputStore.get_visibility-322"><span class="linenos">322</span></a><span class="sd">        end : int</span>
</span><span id="InputStore.get_visibility-323"><a href="#InputStore.get_visibility-323"><span class="linenos">323</span></a><span class="sd">            the end frame</span>
</span><span id="InputStore.get_visibility-324"><a href="#InputStore.get_visibility-324"><span class="linenos">324</span></a><span class="sd">        score : float</span>
</span><span id="InputStore.get_visibility-325"><a href="#InputStore.get_visibility-325"><span class="linenos">325</span></a><span class="sd">            the visibility score hard_threshold</span>
</span><span id="InputStore.get_visibility-326"><a href="#InputStore.get_visibility-326"><span class="linenos">326</span></a>
</span><span id="InputStore.get_visibility-327"><a href="#InputStore.get_visibility-327"><span class="linenos">327</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_visibility-328"><a href="#InputStore.get_visibility-328"><span class="linenos">328</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_visibility-329"><a href="#InputStore.get_visibility-329"><span class="linenos">329</span></a><span class="sd">        frac_visible: float</span>
</span><span id="InputStore.get_visibility-330"><a href="#InputStore.get_visibility-330"><span class="linenos">330</span></a><span class="sd">            the fraction of frames with visibility above the hard_threshold</span>
</span><span id="InputStore.get_visibility-331"><a href="#InputStore.get_visibility-331"><span class="linenos">331</span></a>
</span><span id="InputStore.get_visibility-332"><a href="#InputStore.get_visibility-332"><span class="linenos">332</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the fraction of the frames in that have a visibility score better than a hard_threshold.</p>

<p>For example, in the case of keypoint data the visibility score can be the number of identified keypoints.</p>

<h2 id="parameters">Parameters</h2>

<p>video_id : str
    the video id of the frames
clip_id : str
    the clip id of the frames
start : int
    the start frame
end : int
    the end frame
score : float
    the visibility score hard_threshold</p>

<h2 id="returns">Returns</h2>

<p>frac_visible: float
    the fraction of frames with visibility above the hard_threshold</p>
</div>


                            </div>
                            <div id="InputStore.get_annotation_objects" class="classattr">
                                        <input id="InputStore.get_annotation_objects-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_annotation_objects</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Dict</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_annotation_objects-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_annotation_objects"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_annotation_objects-334"><a href="#InputStore.get_annotation_objects-334"><span class="linenos">334</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_annotation_objects-335"><a href="#InputStore.get_annotation_objects-335"><span class="linenos">335</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_annotation_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="InputStore.get_annotation_objects-336"><a href="#InputStore.get_annotation_objects-336"><span class="linenos">336</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary of objects necessary to create an `BehaviorStore`.</span>
</span><span id="InputStore.get_annotation_objects-337"><a href="#InputStore.get_annotation_objects-337"><span class="linenos">337</span></a>
</span><span id="InputStore.get_annotation_objects-338"><a href="#InputStore.get_annotation_objects-338"><span class="linenos">338</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_annotation_objects-339"><a href="#InputStore.get_annotation_objects-339"><span class="linenos">339</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_annotation_objects-340"><a href="#InputStore.get_annotation_objects-340"><span class="linenos">340</span></a><span class="sd">        annotation_objects : dict</span>
</span><span id="InputStore.get_annotation_objects-341"><a href="#InputStore.get_annotation_objects-341"><span class="linenos">341</span></a><span class="sd">            a dictionary of objects to be passed to the BehaviorStore constructor where the keys are the names of</span>
</span><span id="InputStore.get_annotation_objects-342"><a href="#InputStore.get_annotation_objects-342"><span class="linenos">342</span></a><span class="sd">            the objects</span>
</span><span id="InputStore.get_annotation_objects-343"><a href="#InputStore.get_annotation_objects-343"><span class="linenos">343</span></a>
</span><span id="InputStore.get_annotation_objects-344"><a href="#InputStore.get_annotation_objects-344"><span class="linenos">344</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get a dictionary of objects necessary to create an <code><a href="#BehaviorStore">BehaviorStore</a></code>.</p>

<h2 id="returns">Returns</h2>

<p>annotation_objects : dict
    a dictionary of objects to be passed to the BehaviorStore constructor where the keys are the names of
    the objects</p>
</div>


                            </div>
                            <div id="InputStore.get_folder" class="classattr">
                                        <input id="InputStore.get_folder-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_folder</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_folder-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_folder"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_folder-346"><a href="#InputStore.get_folder-346"><span class="linenos">346</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="InputStore.get_folder-347"><a href="#InputStore.get_folder-347"><span class="linenos">347</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="InputStore.get_folder-348"><a href="#InputStore.get_folder-348"><span class="linenos">348</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the input folder that the file with this video id was read from.</span>
</span><span id="InputStore.get_folder-349"><a href="#InputStore.get_folder-349"><span class="linenos">349</span></a>
</span><span id="InputStore.get_folder-350"><a href="#InputStore.get_folder-350"><span class="linenos">350</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_folder-351"><a href="#InputStore.get_folder-351"><span class="linenos">351</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_folder-352"><a href="#InputStore.get_folder-352"><span class="linenos">352</span></a><span class="sd">        video_id : str</span>
</span><span id="InputStore.get_folder-353"><a href="#InputStore.get_folder-353"><span class="linenos">353</span></a><span class="sd">            the video id</span>
</span><span id="InputStore.get_folder-354"><a href="#InputStore.get_folder-354"><span class="linenos">354</span></a>
</span><span id="InputStore.get_folder-355"><a href="#InputStore.get_folder-355"><span class="linenos">355</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_folder-356"><a href="#InputStore.get_folder-356"><span class="linenos">356</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_folder-357"><a href="#InputStore.get_folder-357"><span class="linenos">357</span></a><span class="sd">        folder : str</span>
</span><span id="InputStore.get_folder-358"><a href="#InputStore.get_folder-358"><span class="linenos">358</span></a><span class="sd">            the path to the directory that contains the input file associated with the video id</span>
</span><span id="InputStore.get_folder-359"><a href="#InputStore.get_folder-359"><span class="linenos">359</span></a>
</span><span id="InputStore.get_folder-360"><a href="#InputStore.get_folder-360"><span class="linenos">360</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the input folder that the file with this video id was read from.</p>

<h2 id="parameters">Parameters</h2>

<p>video_id : str
    the video id</p>

<h2 id="returns">Returns</h2>

<p>folder : str
    the path to the directory that contains the input file associated with the video id</p>
</div>


                            </div>
                            <div id="InputStore.get_clip_length_from_coords" class="classattr">
                                        <input id="InputStore.get_clip_length_from_coords-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_clip_length_from_coords</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_clip_length_from_coords-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_clip_length_from_coords"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_clip_length_from_coords-362"><a href="#InputStore.get_clip_length_from_coords-362"><span class="linenos">362</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_clip_length_from_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="InputStore.get_clip_length_from_coords-363"><a href="#InputStore.get_clip_length_from_coords-363"><span class="linenos">363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of a clip from an element of the original coordinates array.</span>
</span><span id="InputStore.get_clip_length_from_coords-364"><a href="#InputStore.get_clip_length_from_coords-364"><span class="linenos">364</span></a>
</span><span id="InputStore.get_clip_length_from_coords-365"><a href="#InputStore.get_clip_length_from_coords-365"><span class="linenos">365</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_clip_length_from_coords-366"><a href="#InputStore.get_clip_length_from_coords-366"><span class="linenos">366</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_clip_length_from_coords-367"><a href="#InputStore.get_clip_length_from_coords-367"><span class="linenos">367</span></a><span class="sd">        coords : tuple</span>
</span><span id="InputStore.get_clip_length_from_coords-368"><a href="#InputStore.get_clip_length_from_coords-368"><span class="linenos">368</span></a><span class="sd">            an element of the original coordinates array</span>
</span><span id="InputStore.get_clip_length_from_coords-369"><a href="#InputStore.get_clip_length_from_coords-369"><span class="linenos">369</span></a>
</span><span id="InputStore.get_clip_length_from_coords-370"><a href="#InputStore.get_clip_length_from_coords-370"><span class="linenos">370</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_clip_length_from_coords-371"><a href="#InputStore.get_clip_length_from_coords-371"><span class="linenos">371</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_clip_length_from_coords-372"><a href="#InputStore.get_clip_length_from_coords-372"><span class="linenos">372</span></a><span class="sd">        clip_length : int</span>
</span><span id="InputStore.get_clip_length_from_coords-373"><a href="#InputStore.get_clip_length_from_coords-373"><span class="linenos">373</span></a><span class="sd">            the length of the clip</span>
</span><span id="InputStore.get_clip_length_from_coords-374"><a href="#InputStore.get_clip_length_from_coords-374"><span class="linenos">374</span></a>
</span><span id="InputStore.get_clip_length_from_coords-375"><a href="#InputStore.get_clip_length_from_coords-375"><span class="linenos">375</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore.get_clip_length_from_coords-376"><a href="#InputStore.get_clip_length_from_coords-376"><span class="linenos">376</span></a>        <span class="n">v_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_video_id</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
</span><span id="InputStore.get_clip_length_from_coords-377"><a href="#InputStore.get_clip_length_from_coords-377"><span class="linenos">377</span></a>        <span class="n">clip_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_clip_id</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
</span><span id="InputStore.get_clip_length_from_coords-378"><a href="#InputStore.get_clip_length_from_coords-378"><span class="linenos">378</span></a>        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_clip_length</span><span class="p">(</span><span class="n">v_id</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">)</span>
</span><span id="InputStore.get_clip_length_from_coords-379"><a href="#InputStore.get_clip_length_from_coords-379"><span class="linenos">379</span></a>        <span class="k">return</span> <span class="n">l</span>
</span></pre></div>


            <div class="docstring"><p>Get the length of a clip from an element of the original coordinates array.</p>

<h2 id="parameters">Parameters</h2>

<p>coords : tuple
    an element of the original coordinates array</p>

<h2 id="returns">Returns</h2>

<p>clip_length : int
    the length of the clip</p>
</div>


                            </div>
                            <div id="InputStore.get_folder_order" class="classattr">
                                        <input id="InputStore.get_folder_order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_folder_order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_folder_order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_folder_order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_folder_order-381"><a href="#InputStore.get_folder_order-381"><span class="linenos">381</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_folder_order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore.get_folder_order-382"><a href="#InputStore.get_folder_order-382"><span class="linenos">382</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of folders corresponding to the data samples.</span>
</span><span id="InputStore.get_folder_order-383"><a href="#InputStore.get_folder_order-383"><span class="linenos">383</span></a>
</span><span id="InputStore.get_folder_order-384"><a href="#InputStore.get_folder_order-384"><span class="linenos">384</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_folder_order-385"><a href="#InputStore.get_folder_order-385"><span class="linenos">385</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_folder_order-386"><a href="#InputStore.get_folder_order-386"><span class="linenos">386</span></a><span class="sd">        folder_order : list</span>
</span><span id="InputStore.get_folder_order-387"><a href="#InputStore.get_folder_order-387"><span class="linenos">387</span></a><span class="sd">            a list of string folder basenames corresponding to the data samples (e.g. &#39;folder2&#39;</span>
</span><span id="InputStore.get_folder_order-388"><a href="#InputStore.get_folder_order-388"><span class="linenos">388</span></a><span class="sd">            if the corresponding file was read from &#39;/path/to/folder1/folder2&#39;)</span>
</span><span id="InputStore.get_folder_order-389"><a href="#InputStore.get_folder_order-389"><span class="linenos">389</span></a>
</span><span id="InputStore.get_folder_order-390"><a href="#InputStore.get_folder_order-390"><span class="linenos">390</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore.get_folder_order-391"><a href="#InputStore.get_folder_order-391"><span class="linenos">391</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_folder</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_video_id_order</span><span class="p">()]</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of folders corresponding to the data samples.</p>

<h2 id="returns">Returns</h2>

<p>folder_order : list
    a list of string folder basenames corresponding to the data samples (e.g. 'folder2'
    if the corresponding file was read from '/path/to/folder1/folder2')</p>
</div>


                            </div>
                            <div id="InputStore.get_video_id_order" class="classattr">
                                        <input id="InputStore.get_video_id_order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_video_id_order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_video_id_order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_video_id_order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_video_id_order-393"><a href="#InputStore.get_video_id_order-393"><span class="linenos">393</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_video_id_order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore.get_video_id_order-394"><a href="#InputStore.get_video_id_order-394"><span class="linenos">394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of video ids corresponding to the data samples.</span>
</span><span id="InputStore.get_video_id_order-395"><a href="#InputStore.get_video_id_order-395"><span class="linenos">395</span></a>
</span><span id="InputStore.get_video_id_order-396"><a href="#InputStore.get_video_id_order-396"><span class="linenos">396</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_video_id_order-397"><a href="#InputStore.get_video_id_order-397"><span class="linenos">397</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_video_id_order-398"><a href="#InputStore.get_video_id_order-398"><span class="linenos">398</span></a><span class="sd">        video_id_order : list</span>
</span><span id="InputStore.get_video_id_order-399"><a href="#InputStore.get_video_id_order-399"><span class="linenos">399</span></a><span class="sd">            a list of string names of the video ids corresponding to the data samples</span>
</span><span id="InputStore.get_video_id_order-400"><a href="#InputStore.get_video_id_order-400"><span class="linenos">400</span></a>
</span><span id="InputStore.get_video_id_order-401"><a href="#InputStore.get_video_id_order-401"><span class="linenos">401</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore.get_video_id_order-402"><a href="#InputStore.get_video_id_order-402"><span class="linenos">402</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_video_id</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_original_coordinates</span><span class="p">()]</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of video ids corresponding to the data samples.</p>

<h2 id="returns">Returns</h2>

<p>video_id_order : list
    a list of string names of the video ids corresponding to the data samples</p>
</div>


                            </div>
                            <div id="InputStore.get_tag" class="classattr">
                                        <input id="InputStore.get_tag-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_tag</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idx</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_tag-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_tag"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_tag-404"><a href="#InputStore.get_tag-404"><span class="linenos">404</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="InputStore.get_tag-405"><a href="#InputStore.get_tag-405"><span class="linenos">405</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a tag object corresponding to an index.</span>
</span><span id="InputStore.get_tag-406"><a href="#InputStore.get_tag-406"><span class="linenos">406</span></a>
</span><span id="InputStore.get_tag-407"><a href="#InputStore.get_tag-407"><span class="linenos">407</span></a><span class="sd">        Tags can carry meta information (like annotator id) and are accepted by models that require</span>
</span><span id="InputStore.get_tag-408"><a href="#InputStore.get_tag-408"><span class="linenos">408</span></a><span class="sd">        that information and by metrics (some metrics have options for averaging over the tags).</span>
</span><span id="InputStore.get_tag-409"><a href="#InputStore.get_tag-409"><span class="linenos">409</span></a><span class="sd">        When a tag is `None`, it is not passed to the model.</span>
</span><span id="InputStore.get_tag-410"><a href="#InputStore.get_tag-410"><span class="linenos">410</span></a>
</span><span id="InputStore.get_tag-411"><a href="#InputStore.get_tag-411"><span class="linenos">411</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_tag-412"><a href="#InputStore.get_tag-412"><span class="linenos">412</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_tag-413"><a href="#InputStore.get_tag-413"><span class="linenos">413</span></a><span class="sd">        idx : int</span>
</span><span id="InputStore.get_tag-414"><a href="#InputStore.get_tag-414"><span class="linenos">414</span></a><span class="sd">            the index</span>
</span><span id="InputStore.get_tag-415"><a href="#InputStore.get_tag-415"><span class="linenos">415</span></a>
</span><span id="InputStore.get_tag-416"><a href="#InputStore.get_tag-416"><span class="linenos">416</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_tag-417"><a href="#InputStore.get_tag-417"><span class="linenos">417</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_tag-418"><a href="#InputStore.get_tag-418"><span class="linenos">418</span></a><span class="sd">        tag : int</span>
</span><span id="InputStore.get_tag-419"><a href="#InputStore.get_tag-419"><span class="linenos">419</span></a><span class="sd">            the tag index</span>
</span><span id="InputStore.get_tag-420"><a href="#InputStore.get_tag-420"><span class="linenos">420</span></a>
</span><span id="InputStore.get_tag-421"><a href="#InputStore.get_tag-421"><span class="linenos">421</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore.get_tag-422"><a href="#InputStore.get_tag-422"><span class="linenos">422</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Return a tag object corresponding to an index.</p>

<p>Tags can carry meta information (like annotator id) and are accepted by models that require
that information and by metrics (some metrics have options for averaging over the tags).
When a tag is <code>None</code>, it is not passed to the model.</p>

<h2 id="parameters">Parameters</h2>

<p>idx : int
    the index</p>

<h2 id="returns">Returns</h2>

<p>tag : int
    the tag index</p>
</div>


                            </div>
                            <div id="InputStore.get_indices" class="classattr">
                                        <input id="InputStore.get_indices-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_indices</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">tag</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_indices-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_indices"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_indices-424"><a href="#InputStore.get_indices-424"><span class="linenos">424</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore.get_indices-425"><a href="#InputStore.get_indices-425"><span class="linenos">425</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of indices of samples that have a specific meta tag.</span>
</span><span id="InputStore.get_indices-426"><a href="#InputStore.get_indices-426"><span class="linenos">426</span></a>
</span><span id="InputStore.get_indices-427"><a href="#InputStore.get_indices-427"><span class="linenos">427</span></a><span class="sd">        Parameters</span>
</span><span id="InputStore.get_indices-428"><a href="#InputStore.get_indices-428"><span class="linenos">428</span></a><span class="sd">        ----------</span>
</span><span id="InputStore.get_indices-429"><a href="#InputStore.get_indices-429"><span class="linenos">429</span></a><span class="sd">        tag : int</span>
</span><span id="InputStore.get_indices-430"><a href="#InputStore.get_indices-430"><span class="linenos">430</span></a><span class="sd">            the meta tag for the subsample (`None` for the whole dataset)</span>
</span><span id="InputStore.get_indices-431"><a href="#InputStore.get_indices-431"><span class="linenos">431</span></a>
</span><span id="InputStore.get_indices-432"><a href="#InputStore.get_indices-432"><span class="linenos">432</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_indices-433"><a href="#InputStore.get_indices-433"><span class="linenos">433</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_indices-434"><a href="#InputStore.get_indices-434"><span class="linenos">434</span></a><span class="sd">        indices : list</span>
</span><span id="InputStore.get_indices-435"><a href="#InputStore.get_indices-435"><span class="linenos">435</span></a><span class="sd">            a list of indices that meet the criteria</span>
</span><span id="InputStore.get_indices-436"><a href="#InputStore.get_indices-436"><span class="linenos">436</span></a>
</span><span id="InputStore.get_indices-437"><a href="#InputStore.get_indices-437"><span class="linenos">437</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore.get_indices-438"><a href="#InputStore.get_indices-438"><span class="linenos">438</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of indices of samples that have a specific meta tag.</p>

<h2 id="parameters">Parameters</h2>

<p>tag : int
    the meta tag for the subsample (<code>None</code> for the whole dataset)</p>

<h2 id="returns">Returns</h2>

<p>indices : list
    a list of indices that meet the criteria</p>
</div>


                            </div>
                            <div id="InputStore.get_tags" class="classattr">
                                        <input id="InputStore.get_tags-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_tags</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="InputStore.get_tags-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InputStore.get_tags"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InputStore.get_tags-440"><a href="#InputStore.get_tags-440"><span class="linenos">440</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="InputStore.get_tags-441"><a href="#InputStore.get_tags-441"><span class="linenos">441</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all meta tags.</span>
</span><span id="InputStore.get_tags-442"><a href="#InputStore.get_tags-442"><span class="linenos">442</span></a>
</span><span id="InputStore.get_tags-443"><a href="#InputStore.get_tags-443"><span class="linenos">443</span></a><span class="sd">        Returns</span>
</span><span id="InputStore.get_tags-444"><a href="#InputStore.get_tags-444"><span class="linenos">444</span></a><span class="sd">        -------</span>
</span><span id="InputStore.get_tags-445"><a href="#InputStore.get_tags-445"><span class="linenos">445</span></a><span class="sd">        tags: List</span>
</span><span id="InputStore.get_tags-446"><a href="#InputStore.get_tags-446"><span class="linenos">446</span></a><span class="sd">            a list of unique meta tag values</span>
</span><span id="InputStore.get_tags-447"><a href="#InputStore.get_tags-447"><span class="linenos">447</span></a>
</span><span id="InputStore.get_tags-448"><a href="#InputStore.get_tags-448"><span class="linenos">448</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="InputStore.get_tags-449"><a href="#InputStore.get_tags-449"><span class="linenos">449</span></a>        <span class="k">return</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of all meta tags.</p>

<h2 id="returns">Returns</h2>

<p>tags: List
    a list of unique meta tag values</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Store">Store</a></dt>
                                <dd id="InputStore.remove" class="function"><a href="#Store.remove">remove</a></dd>
                <dd id="InputStore.key_objects" class="function"><a href="#Store.key_objects">key_objects</a></dd>
                <dd id="InputStore.load_from_key_objects" class="function"><a href="#Store.load_from_key_objects">load_from_key_objects</a></dd>
                <dd id="InputStore.to_ram" class="function"><a href="#Store.to_ram">to_ram</a></dd>
                <dd id="InputStore.get_original_coordinates" class="function"><a href="#Store.get_original_coordinates">get_original_coordinates</a></dd>
                <dd id="InputStore.create_subsample" class="function"><a href="#Store.create_subsample">create_subsample</a></dd>
                <dd id="InputStore.get_file_ids" class="function"><a href="#Store.get_file_ids">get_file_ids</a></dd>
                <dd id="InputStore.get_parameters" class="function"><a href="#Store.get_parameters">get_parameters</a></dd>
                <dd id="InputStore.new" class="function"><a href="#Store.new">new</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="BehaviorStore">
                            <input id="BehaviorStore-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">BehaviorStore</span><wbr>(<span class="base"><a href="#Store">Store</a></span>):

                <label class="view-source-button" for="BehaviorStore-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore-452"><a href="#BehaviorStore-452"><span class="linenos">452</span></a><span class="k">class</span><span class="w"> </span><span class="nc">BehaviorStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
</span><span id="BehaviorStore-453"><a href="#BehaviorStore-453"><span class="linenos">453</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class that generates annotation from video information and stores it.</span>
</span><span id="BehaviorStore-454"><a href="#BehaviorStore-454"><span class="linenos">454</span></a>
</span><span id="BehaviorStore-455"><a href="#BehaviorStore-455"><span class="linenos">455</span></a><span class="sd">    Processes input video information and generates ordered arrays of annotation samples and corresponding unique</span>
</span><span id="BehaviorStore-456"><a href="#BehaviorStore-456"><span class="linenos">456</span></a><span class="sd">    original coordinates, as well as some meta objects.</span>
</span><span id="BehaviorStore-457"><a href="#BehaviorStore-457"><span class="linenos">457</span></a><span class="sd">    It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).</span>
</span><span id="BehaviorStore-458"><a href="#BehaviorStore-458"><span class="linenos">458</span></a><span class="sd">    Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).</span>
</span><span id="BehaviorStore-459"><a href="#BehaviorStore-459"><span class="linenos">459</span></a><span class="sd">    The original coordinates object contains information about the video_id, clip_id and start time of the</span>
</span><span id="BehaviorStore-460"><a href="#BehaviorStore-460"><span class="linenos">460</span></a><span class="sd">    samples in the original input data.</span>
</span><span id="BehaviorStore-461"><a href="#BehaviorStore-461"><span class="linenos">461</span></a><span class="sd">    An BehaviorStore has to be fully defined with a tuple of key objects.</span>
</span><span id="BehaviorStore-462"><a href="#BehaviorStore-462"><span class="linenos">462</span></a><span class="sd">    The annotation array can be accessed with integer indices.</span>
</span><span id="BehaviorStore-463"><a href="#BehaviorStore-463"><span class="linenos">463</span></a><span class="sd">    The samples can be stored as a torch.Tensor in RAM or as an array of file paths to be loaded on runtime.</span>
</span><span id="BehaviorStore-464"><a href="#BehaviorStore-464"><span class="linenos">464</span></a><span class="sd">    When no arguments are passed a blank class instance should be created that can later be filled with</span>
</span><span id="BehaviorStore-465"><a href="#BehaviorStore-465"><span class="linenos">465</span></a><span class="sd">    information from key objects</span>
</span><span id="BehaviorStore-466"><a href="#BehaviorStore-466"><span class="linenos">466</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-467"><a href="#BehaviorStore-467"><span class="linenos">467</span></a>
</span><span id="BehaviorStore-468"><a href="#BehaviorStore-468"><span class="linenos">468</span></a>    <span class="n">required_objects</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="BehaviorStore-469"><a href="#BehaviorStore-469"><span class="linenos">469</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BehaviorStore-470"><a href="#BehaviorStore-470"><span class="linenos">470</span></a><span class="sd">    A list of string names of the objects required from the input store.</span>
</span><span id="BehaviorStore-471"><a href="#BehaviorStore-471"><span class="linenos">471</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-472"><a href="#BehaviorStore-472"><span class="linenos">472</span></a>
</span><span id="BehaviorStore-473"><a href="#BehaviorStore-473"><span class="linenos">473</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-474"><a href="#BehaviorStore-474"><span class="linenos">474</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="BehaviorStore-475"><a href="#BehaviorStore-475"><span class="linenos">475</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="BehaviorStore-476"><a href="#BehaviorStore-476"><span class="linenos">476</span></a>        <span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="BehaviorStore-477"><a href="#BehaviorStore-477"><span class="linenos">477</span></a>        <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="BehaviorStore-478"><a href="#BehaviorStore-478"><span class="linenos">478</span></a>        <span class="n">annotation_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="BehaviorStore-479"><a href="#BehaviorStore-479"><span class="linenos">479</span></a>        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
</span><span id="BehaviorStore-480"><a href="#BehaviorStore-480"><span class="linenos">480</span></a>        <span class="o">**</span><span class="n">kwargs</span>
</span><span id="BehaviorStore-481"><a href="#BehaviorStore-481"><span class="linenos">481</span></a>    <span class="p">):</span>
</span><span id="BehaviorStore-482"><a href="#BehaviorStore-482"><span class="linenos">482</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the class instance.</span>
</span><span id="BehaviorStore-483"><a href="#BehaviorStore-483"><span class="linenos">483</span></a>
</span><span id="BehaviorStore-484"><a href="#BehaviorStore-484"><span class="linenos">484</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore-485"><a href="#BehaviorStore-485"><span class="linenos">485</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore-486"><a href="#BehaviorStore-486"><span class="linenos">486</span></a><span class="sd">        video_order : list, optional</span>
</span><span id="BehaviorStore-487"><a href="#BehaviorStore-487"><span class="linenos">487</span></a><span class="sd">            a list of video ids that should be processed in the same order (not passed if creating from key objects)</span>
</span><span id="BehaviorStore-488"><a href="#BehaviorStore-488"><span class="linenos">488</span></a><span class="sd">        key_objects : tuple, optional</span>
</span><span id="BehaviorStore-489"><a href="#BehaviorStore-489"><span class="linenos">489</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="BehaviorStore-490"><a href="#BehaviorStore-490"><span class="linenos">490</span></a><span class="sd">        annotation_path : str | set, optional</span>
</span><span id="BehaviorStore-491"><a href="#BehaviorStore-491"><span class="linenos">491</span></a><span class="sd">            the path or the set of paths to the folder where the annotation files are stored (not passed if creating</span>
</span><span id="BehaviorStore-492"><a href="#BehaviorStore-492"><span class="linenos">492</span></a><span class="sd">            from key objects)</span>
</span><span id="BehaviorStore-493"><a href="#BehaviorStore-493"><span class="linenos">493</span></a>
</span><span id="BehaviorStore-494"><a href="#BehaviorStore-494"><span class="linenos">494</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-495"><a href="#BehaviorStore-495"><span class="linenos">495</span></a>        <span class="k">if</span> <span class="n">key_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="BehaviorStore-496"><a href="#BehaviorStore-496"><span class="linenos">496</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">load_from_key_objects</span><span class="p">(</span><span class="n">key_objects</span><span class="p">)</span>
</span><span id="BehaviorStore-497"><a href="#BehaviorStore-497"><span class="linenos">497</span></a>
</span><span id="BehaviorStore-498"><a href="#BehaviorStore-498"><span class="linenos">498</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-499"><a href="#BehaviorStore-499"><span class="linenos">499</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
</span><span id="BehaviorStore-500"><a href="#BehaviorStore-500"><span class="linenos">500</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the annotation of the sample corresponding to an index.</span>
</span><span id="BehaviorStore-501"><a href="#BehaviorStore-501"><span class="linenos">501</span></a>
</span><span id="BehaviorStore-502"><a href="#BehaviorStore-502"><span class="linenos">502</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore-503"><a href="#BehaviorStore-503"><span class="linenos">503</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore-504"><a href="#BehaviorStore-504"><span class="linenos">504</span></a><span class="sd">        ind : int</span>
</span><span id="BehaviorStore-505"><a href="#BehaviorStore-505"><span class="linenos">505</span></a><span class="sd">            index of the sample</span>
</span><span id="BehaviorStore-506"><a href="#BehaviorStore-506"><span class="linenos">506</span></a>
</span><span id="BehaviorStore-507"><a href="#BehaviorStore-507"><span class="linenos">507</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore-508"><a href="#BehaviorStore-508"><span class="linenos">508</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore-509"><a href="#BehaviorStore-509"><span class="linenos">509</span></a><span class="sd">        sample : torch.Tensor</span>
</span><span id="BehaviorStore-510"><a href="#BehaviorStore-510"><span class="linenos">510</span></a><span class="sd">            the corresponding annotation tensor</span>
</span><span id="BehaviorStore-511"><a href="#BehaviorStore-511"><span class="linenos">511</span></a>
</span><span id="BehaviorStore-512"><a href="#BehaviorStore-512"><span class="linenos">512</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-513"><a href="#BehaviorStore-513"><span class="linenos">513</span></a>
</span><span id="BehaviorStore-514"><a href="#BehaviorStore-514"><span class="linenos">514</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-515"><a href="#BehaviorStore-515"><span class="linenos">515</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_unlabeled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="BehaviorStore-516"><a href="#BehaviorStore-516"><span class="linenos">516</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of the subsample of labeled/unlabeled data.</span>
</span><span id="BehaviorStore-517"><a href="#BehaviorStore-517"><span class="linenos">517</span></a>
</span><span id="BehaviorStore-518"><a href="#BehaviorStore-518"><span class="linenos">518</span></a><span class="sd">        If return_unlabeled is True, the index is in the subsample of unlabeled data, if False in labeled</span>
</span><span id="BehaviorStore-519"><a href="#BehaviorStore-519"><span class="linenos">519</span></a><span class="sd">        and if return_unlabeled is None the index is already correct</span>
</span><span id="BehaviorStore-520"><a href="#BehaviorStore-520"><span class="linenos">520</span></a>
</span><span id="BehaviorStore-521"><a href="#BehaviorStore-521"><span class="linenos">521</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore-522"><a href="#BehaviorStore-522"><span class="linenos">522</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore-523"><a href="#BehaviorStore-523"><span class="linenos">523</span></a><span class="sd">        return_unlabeled : bool</span>
</span><span id="BehaviorStore-524"><a href="#BehaviorStore-524"><span class="linenos">524</span></a><span class="sd">            the identifier for the subsample</span>
</span><span id="BehaviorStore-525"><a href="#BehaviorStore-525"><span class="linenos">525</span></a>
</span><span id="BehaviorStore-526"><a href="#BehaviorStore-526"><span class="linenos">526</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore-527"><a href="#BehaviorStore-527"><span class="linenos">527</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore-528"><a href="#BehaviorStore-528"><span class="linenos">528</span></a><span class="sd">        length : int</span>
</span><span id="BehaviorStore-529"><a href="#BehaviorStore-529"><span class="linenos">529</span></a><span class="sd">            the length of the subsample</span>
</span><span id="BehaviorStore-530"><a href="#BehaviorStore-530"><span class="linenos">530</span></a>
</span><span id="BehaviorStore-531"><a href="#BehaviorStore-531"><span class="linenos">531</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-532"><a href="#BehaviorStore-532"><span class="linenos">532</span></a>
</span><span id="BehaviorStore-533"><a href="#BehaviorStore-533"><span class="linenos">533</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-534"><a href="#BehaviorStore-534"><span class="linenos">534</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">count_classes</span><span class="p">(</span>
</span><span id="BehaviorStore-535"><a href="#BehaviorStore-535"><span class="linenos">535</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">frac</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">zeros</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">bouts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="BehaviorStore-536"><a href="#BehaviorStore-536"><span class="linenos">536</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="BehaviorStore-537"><a href="#BehaviorStore-537"><span class="linenos">537</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary with class-wise frame counts.</span>
</span><span id="BehaviorStore-538"><a href="#BehaviorStore-538"><span class="linenos">538</span></a>
</span><span id="BehaviorStore-539"><a href="#BehaviorStore-539"><span class="linenos">539</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore-540"><a href="#BehaviorStore-540"><span class="linenos">540</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore-541"><a href="#BehaviorStore-541"><span class="linenos">541</span></a><span class="sd">        frac : bool, default False</span>
</span><span id="BehaviorStore-542"><a href="#BehaviorStore-542"><span class="linenos">542</span></a><span class="sd">            if `True`, a fraction of the total frame count is returned</span>
</span><span id="BehaviorStore-543"><a href="#BehaviorStore-543"><span class="linenos">543</span></a><span class="sd">        zeros : bool. default False</span>
</span><span id="BehaviorStore-544"><a href="#BehaviorStore-544"><span class="linenos">544</span></a><span class="sd">            if `True`, the number of known negative samples is counted (only if the annotation is multi-label)</span>
</span><span id="BehaviorStore-545"><a href="#BehaviorStore-545"><span class="linenos">545</span></a><span class="sd">        bouts : bool, default False</span>
</span><span id="BehaviorStore-546"><a href="#BehaviorStore-546"><span class="linenos">546</span></a><span class="sd">            if `True`, instead of frame counts segment counts are returned</span>
</span><span id="BehaviorStore-547"><a href="#BehaviorStore-547"><span class="linenos">547</span></a>
</span><span id="BehaviorStore-548"><a href="#BehaviorStore-548"><span class="linenos">548</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore-549"><a href="#BehaviorStore-549"><span class="linenos">549</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore-550"><a href="#BehaviorStore-550"><span class="linenos">550</span></a><span class="sd">        count_dictionary : dict</span>
</span><span id="BehaviorStore-551"><a href="#BehaviorStore-551"><span class="linenos">551</span></a><span class="sd">            a dictionary with class indices as keys and frame counts as values</span>
</span><span id="BehaviorStore-552"><a href="#BehaviorStore-552"><span class="linenos">552</span></a>
</span><span id="BehaviorStore-553"><a href="#BehaviorStore-553"><span class="linenos">553</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-554"><a href="#BehaviorStore-554"><span class="linenos">554</span></a>
</span><span id="BehaviorStore-555"><a href="#BehaviorStore-555"><span class="linenos">555</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-556"><a href="#BehaviorStore-556"><span class="linenos">556</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">behaviors_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="BehaviorStore-557"><a href="#BehaviorStore-557"><span class="linenos">557</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary of class names.</span>
</span><span id="BehaviorStore-558"><a href="#BehaviorStore-558"><span class="linenos">558</span></a>
</span><span id="BehaviorStore-559"><a href="#BehaviorStore-559"><span class="linenos">559</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore-560"><a href="#BehaviorStore-560"><span class="linenos">560</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore-561"><a href="#BehaviorStore-561"><span class="linenos">561</span></a><span class="sd">        behavior_dictionary: dict</span>
</span><span id="BehaviorStore-562"><a href="#BehaviorStore-562"><span class="linenos">562</span></a><span class="sd">            a dictionary with class indices as keys and class names as values</span>
</span><span id="BehaviorStore-563"><a href="#BehaviorStore-563"><span class="linenos">563</span></a>
</span><span id="BehaviorStore-564"><a href="#BehaviorStore-564"><span class="linenos">564</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-565"><a href="#BehaviorStore-565"><span class="linenos">565</span></a>
</span><span id="BehaviorStore-566"><a href="#BehaviorStore-566"><span class="linenos">566</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-567"><a href="#BehaviorStore-567"><span class="linenos">567</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">annotation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="BehaviorStore-568"><a href="#BehaviorStore-568"><span class="linenos">568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the type of annotation (&#39;exclusive_classification&#39;, &#39;nonexclusive_classification&#39;, more coming soon).</span>
</span><span id="BehaviorStore-569"><a href="#BehaviorStore-569"><span class="linenos">569</span></a>
</span><span id="BehaviorStore-570"><a href="#BehaviorStore-570"><span class="linenos">570</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore-571"><a href="#BehaviorStore-571"><span class="linenos">571</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore-572"><a href="#BehaviorStore-572"><span class="linenos">572</span></a><span class="sd">        annotation_class : str</span>
</span><span id="BehaviorStore-573"><a href="#BehaviorStore-573"><span class="linenos">573</span></a><span class="sd">            the type of annotation</span>
</span><span id="BehaviorStore-574"><a href="#BehaviorStore-574"><span class="linenos">574</span></a>
</span><span id="BehaviorStore-575"><a href="#BehaviorStore-575"><span class="linenos">575</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-576"><a href="#BehaviorStore-576"><span class="linenos">576</span></a>
</span><span id="BehaviorStore-577"><a href="#BehaviorStore-577"><span class="linenos">577</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-578"><a href="#BehaviorStore-578"><span class="linenos">578</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="BehaviorStore-579"><a href="#BehaviorStore-579"><span class="linenos">579</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the total number of frames in the data.</span>
</span><span id="BehaviorStore-580"><a href="#BehaviorStore-580"><span class="linenos">580</span></a>
</span><span id="BehaviorStore-581"><a href="#BehaviorStore-581"><span class="linenos">581</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore-582"><a href="#BehaviorStore-582"><span class="linenos">582</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore-583"><a href="#BehaviorStore-583"><span class="linenos">583</span></a><span class="sd">        size : int</span>
</span><span id="BehaviorStore-584"><a href="#BehaviorStore-584"><span class="linenos">584</span></a><span class="sd">            the total number of frames</span>
</span><span id="BehaviorStore-585"><a href="#BehaviorStore-585"><span class="linenos">585</span></a>
</span><span id="BehaviorStore-586"><a href="#BehaviorStore-586"><span class="linenos">586</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-587"><a href="#BehaviorStore-587"><span class="linenos">587</span></a>
</span><span id="BehaviorStore-588"><a href="#BehaviorStore-588"><span class="linenos">588</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-589"><a href="#BehaviorStore-589"><span class="linenos">589</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">filtered_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="BehaviorStore-590"><a href="#BehaviorStore-590"><span class="linenos">590</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the indices of the samples that should be removed.</span>
</span><span id="BehaviorStore-591"><a href="#BehaviorStore-591"><span class="linenos">591</span></a>
</span><span id="BehaviorStore-592"><a href="#BehaviorStore-592"><span class="linenos">592</span></a><span class="sd">        Choosing the indices can be based on any kind of filering defined in the __init__ function by the data</span>
</span><span id="BehaviorStore-593"><a href="#BehaviorStore-593"><span class="linenos">593</span></a><span class="sd">        parameters</span>
</span><span id="BehaviorStore-594"><a href="#BehaviorStore-594"><span class="linenos">594</span></a>
</span><span id="BehaviorStore-595"><a href="#BehaviorStore-595"><span class="linenos">595</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore-596"><a href="#BehaviorStore-596"><span class="linenos">596</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore-597"><a href="#BehaviorStore-597"><span class="linenos">597</span></a><span class="sd">        indices_to_remove : list</span>
</span><span id="BehaviorStore-598"><a href="#BehaviorStore-598"><span class="linenos">598</span></a><span class="sd">            a list of integer indices that should be removed</span>
</span><span id="BehaviorStore-599"><a href="#BehaviorStore-599"><span class="linenos">599</span></a>
</span><span id="BehaviorStore-600"><a href="#BehaviorStore-600"><span class="linenos">600</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore-601"><a href="#BehaviorStore-601"><span class="linenos">601</span></a>
</span><span id="BehaviorStore-602"><a href="#BehaviorStore-602"><span class="linenos">602</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore-603"><a href="#BehaviorStore-603"><span class="linenos">603</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_pseudo_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="BehaviorStore-604"><a href="#BehaviorStore-604"><span class="linenos">604</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set pseudo labels to the unlabeled data.</span>
</span><span id="BehaviorStore-605"><a href="#BehaviorStore-605"><span class="linenos">605</span></a>
</span><span id="BehaviorStore-606"><a href="#BehaviorStore-606"><span class="linenos">606</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore-607"><a href="#BehaviorStore-607"><span class="linenos">607</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore-608"><a href="#BehaviorStore-608"><span class="linenos">608</span></a><span class="sd">        labels : torch.Tensor</span>
</span><span id="BehaviorStore-609"><a href="#BehaviorStore-609"><span class="linenos">609</span></a><span class="sd">            a tensor of pseudo-labels for the unlabeled data</span>
</span><span id="BehaviorStore-610"><a href="#BehaviorStore-610"><span class="linenos">610</span></a>
</span><span id="BehaviorStore-611"><a href="#BehaviorStore-611"><span class="linenos">611</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>A class that generates annotation from video information and stores it.</p>

<p>Processes input video information and generates ordered arrays of annotation samples and corresponding unique
original coordinates, as well as some meta objects.
It is assumed that the input videos are separated into clips (e.g. corresponding to different individuals).
Each video and each clip inside the video has a unique id (video_id and clip_id, correspondingly).
The original coordinates object contains information about the video_id, clip_id and start time of the
samples in the original input data.
An BehaviorStore has to be fully defined with a tuple of key objects.
The annotation array can be accessed with integer indices.
The samples can be stored as a torch.Tensor in RAM or as an array of file paths to be loaded on runtime.
When no arguments are passed a blank class instance should be created that can later be filled with
information from key objects</p>
</div>


                            <div id="BehaviorStore.__init__" class="classattr">
                                        <input id="BehaviorStore.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="name">BehaviorStore</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">annotation_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="BehaviorStore.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.__init__-473"><a href="#BehaviorStore.__init__-473"><span class="linenos">473</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.__init__-474"><a href="#BehaviorStore.__init__-474"><span class="linenos">474</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="BehaviorStore.__init__-475"><a href="#BehaviorStore.__init__-475"><span class="linenos">475</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="BehaviorStore.__init__-476"><a href="#BehaviorStore.__init__-476"><span class="linenos">476</span></a>        <span class="n">video_order</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="BehaviorStore.__init__-477"><a href="#BehaviorStore.__init__-477"><span class="linenos">477</span></a>        <span class="n">key_objects</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="BehaviorStore.__init__-478"><a href="#BehaviorStore.__init__-478"><span class="linenos">478</span></a>        <span class="n">annotation_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="BehaviorStore.__init__-479"><a href="#BehaviorStore.__init__-479"><span class="linenos">479</span></a>        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
</span><span id="BehaviorStore.__init__-480"><a href="#BehaviorStore.__init__-480"><span class="linenos">480</span></a>        <span class="o">**</span><span class="n">kwargs</span>
</span><span id="BehaviorStore.__init__-481"><a href="#BehaviorStore.__init__-481"><span class="linenos">481</span></a>    <span class="p">):</span>
</span><span id="BehaviorStore.__init__-482"><a href="#BehaviorStore.__init__-482"><span class="linenos">482</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the class instance.</span>
</span><span id="BehaviorStore.__init__-483"><a href="#BehaviorStore.__init__-483"><span class="linenos">483</span></a>
</span><span id="BehaviorStore.__init__-484"><a href="#BehaviorStore.__init__-484"><span class="linenos">484</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore.__init__-485"><a href="#BehaviorStore.__init__-485"><span class="linenos">485</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore.__init__-486"><a href="#BehaviorStore.__init__-486"><span class="linenos">486</span></a><span class="sd">        video_order : list, optional</span>
</span><span id="BehaviorStore.__init__-487"><a href="#BehaviorStore.__init__-487"><span class="linenos">487</span></a><span class="sd">            a list of video ids that should be processed in the same order (not passed if creating from key objects)</span>
</span><span id="BehaviorStore.__init__-488"><a href="#BehaviorStore.__init__-488"><span class="linenos">488</span></a><span class="sd">        key_objects : tuple, optional</span>
</span><span id="BehaviorStore.__init__-489"><a href="#BehaviorStore.__init__-489"><span class="linenos">489</span></a><span class="sd">            a tuple of key objects</span>
</span><span id="BehaviorStore.__init__-490"><a href="#BehaviorStore.__init__-490"><span class="linenos">490</span></a><span class="sd">        annotation_path : str | set, optional</span>
</span><span id="BehaviorStore.__init__-491"><a href="#BehaviorStore.__init__-491"><span class="linenos">491</span></a><span class="sd">            the path or the set of paths to the folder where the annotation files are stored (not passed if creating</span>
</span><span id="BehaviorStore.__init__-492"><a href="#BehaviorStore.__init__-492"><span class="linenos">492</span></a><span class="sd">            from key objects)</span>
</span><span id="BehaviorStore.__init__-493"><a href="#BehaviorStore.__init__-493"><span class="linenos">493</span></a>
</span><span id="BehaviorStore.__init__-494"><a href="#BehaviorStore.__init__-494"><span class="linenos">494</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BehaviorStore.__init__-495"><a href="#BehaviorStore.__init__-495"><span class="linenos">495</span></a>        <span class="k">if</span> <span class="n">key_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="BehaviorStore.__init__-496"><a href="#BehaviorStore.__init__-496"><span class="linenos">496</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">load_from_key_objects</span><span class="p">(</span><span class="n">key_objects</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the class instance.</p>

<h2 id="parameters">Parameters</h2>

<p>video_order : list, optional
    a list of video ids that should be processed in the same order (not passed if creating from key objects)
key_objects : tuple, optional
    a tuple of key objects
annotation_path : str | set, optional
    the path or the set of paths to the folder where the annotation files are stored (not passed if creating
    from key objects)</p>
</div>


                            </div>
                            <div id="BehaviorStore.required_objects" class="classattr">
                                <div class="attr variable">
            <span class="name">required_objects</span>        =
<span class="default_value">[]</span>

        
    </div>
    <a class="headerlink" href="#BehaviorStore.required_objects"></a>
    
            <div class="docstring"><p>A list of string names of the objects required from the input store.</p>
</div>


                            </div>
                            <div id="BehaviorStore.get_len" class="classattr">
                                        <input id="BehaviorStore.get_len-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_len</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">return_unlabeled</span><span class="p">:</span> <span class="nb">bool</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="BehaviorStore.get_len-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.get_len"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.get_len-514"><a href="#BehaviorStore.get_len-514"><span class="linenos">514</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.get_len-515"><a href="#BehaviorStore.get_len-515"><span class="linenos">515</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_unlabeled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="BehaviorStore.get_len-516"><a href="#BehaviorStore.get_len-516"><span class="linenos">516</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of the subsample of labeled/unlabeled data.</span>
</span><span id="BehaviorStore.get_len-517"><a href="#BehaviorStore.get_len-517"><span class="linenos">517</span></a>
</span><span id="BehaviorStore.get_len-518"><a href="#BehaviorStore.get_len-518"><span class="linenos">518</span></a><span class="sd">        If return_unlabeled is True, the index is in the subsample of unlabeled data, if False in labeled</span>
</span><span id="BehaviorStore.get_len-519"><a href="#BehaviorStore.get_len-519"><span class="linenos">519</span></a><span class="sd">        and if return_unlabeled is None the index is already correct</span>
</span><span id="BehaviorStore.get_len-520"><a href="#BehaviorStore.get_len-520"><span class="linenos">520</span></a>
</span><span id="BehaviorStore.get_len-521"><a href="#BehaviorStore.get_len-521"><span class="linenos">521</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore.get_len-522"><a href="#BehaviorStore.get_len-522"><span class="linenos">522</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore.get_len-523"><a href="#BehaviorStore.get_len-523"><span class="linenos">523</span></a><span class="sd">        return_unlabeled : bool</span>
</span><span id="BehaviorStore.get_len-524"><a href="#BehaviorStore.get_len-524"><span class="linenos">524</span></a><span class="sd">            the identifier for the subsample</span>
</span><span id="BehaviorStore.get_len-525"><a href="#BehaviorStore.get_len-525"><span class="linenos">525</span></a>
</span><span id="BehaviorStore.get_len-526"><a href="#BehaviorStore.get_len-526"><span class="linenos">526</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore.get_len-527"><a href="#BehaviorStore.get_len-527"><span class="linenos">527</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore.get_len-528"><a href="#BehaviorStore.get_len-528"><span class="linenos">528</span></a><span class="sd">        length : int</span>
</span><span id="BehaviorStore.get_len-529"><a href="#BehaviorStore.get_len-529"><span class="linenos">529</span></a><span class="sd">            the length of the subsample</span>
</span><span id="BehaviorStore.get_len-530"><a href="#BehaviorStore.get_len-530"><span class="linenos">530</span></a>
</span><span id="BehaviorStore.get_len-531"><a href="#BehaviorStore.get_len-531"><span class="linenos">531</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the length of the subsample of labeled/unlabeled data.</p>

<p>If return_unlabeled is True, the index is in the subsample of unlabeled data, if False in labeled
and if return_unlabeled is None the index is already correct</p>

<h2 id="parameters">Parameters</h2>

<p>return_unlabeled : bool
    the identifier for the subsample</p>

<h2 id="returns">Returns</h2>

<p>length : int
    the length of the subsample</p>
</div>


                            </div>
                            <div id="BehaviorStore.count_classes" class="classattr">
                                        <input id="BehaviorStore.count_classes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">count_classes</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">frac</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">zeros</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">bouts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">Dict</span>:</span></span>

                <label class="view-source-button" for="BehaviorStore.count_classes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.count_classes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.count_classes-533"><a href="#BehaviorStore.count_classes-533"><span class="linenos">533</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.count_classes-534"><a href="#BehaviorStore.count_classes-534"><span class="linenos">534</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">count_classes</span><span class="p">(</span>
</span><span id="BehaviorStore.count_classes-535"><a href="#BehaviorStore.count_classes-535"><span class="linenos">535</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">frac</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">zeros</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">bouts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="BehaviorStore.count_classes-536"><a href="#BehaviorStore.count_classes-536"><span class="linenos">536</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="BehaviorStore.count_classes-537"><a href="#BehaviorStore.count_classes-537"><span class="linenos">537</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary with class-wise frame counts.</span>
</span><span id="BehaviorStore.count_classes-538"><a href="#BehaviorStore.count_classes-538"><span class="linenos">538</span></a>
</span><span id="BehaviorStore.count_classes-539"><a href="#BehaviorStore.count_classes-539"><span class="linenos">539</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore.count_classes-540"><a href="#BehaviorStore.count_classes-540"><span class="linenos">540</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore.count_classes-541"><a href="#BehaviorStore.count_classes-541"><span class="linenos">541</span></a><span class="sd">        frac : bool, default False</span>
</span><span id="BehaviorStore.count_classes-542"><a href="#BehaviorStore.count_classes-542"><span class="linenos">542</span></a><span class="sd">            if `True`, a fraction of the total frame count is returned</span>
</span><span id="BehaviorStore.count_classes-543"><a href="#BehaviorStore.count_classes-543"><span class="linenos">543</span></a><span class="sd">        zeros : bool. default False</span>
</span><span id="BehaviorStore.count_classes-544"><a href="#BehaviorStore.count_classes-544"><span class="linenos">544</span></a><span class="sd">            if `True`, the number of known negative samples is counted (only if the annotation is multi-label)</span>
</span><span id="BehaviorStore.count_classes-545"><a href="#BehaviorStore.count_classes-545"><span class="linenos">545</span></a><span class="sd">        bouts : bool, default False</span>
</span><span id="BehaviorStore.count_classes-546"><a href="#BehaviorStore.count_classes-546"><span class="linenos">546</span></a><span class="sd">            if `True`, instead of frame counts segment counts are returned</span>
</span><span id="BehaviorStore.count_classes-547"><a href="#BehaviorStore.count_classes-547"><span class="linenos">547</span></a>
</span><span id="BehaviorStore.count_classes-548"><a href="#BehaviorStore.count_classes-548"><span class="linenos">548</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore.count_classes-549"><a href="#BehaviorStore.count_classes-549"><span class="linenos">549</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore.count_classes-550"><a href="#BehaviorStore.count_classes-550"><span class="linenos">550</span></a><span class="sd">        count_dictionary : dict</span>
</span><span id="BehaviorStore.count_classes-551"><a href="#BehaviorStore.count_classes-551"><span class="linenos">551</span></a><span class="sd">            a dictionary with class indices as keys and frame counts as values</span>
</span><span id="BehaviorStore.count_classes-552"><a href="#BehaviorStore.count_classes-552"><span class="linenos">552</span></a>
</span><span id="BehaviorStore.count_classes-553"><a href="#BehaviorStore.count_classes-553"><span class="linenos">553</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get a dictionary with class-wise frame counts.</p>

<h2 id="parameters">Parameters</h2>

<p>frac : bool, default False
    if <code>True</code>, a fraction of the total frame count is returned
zeros : bool. default False
    if <code>True</code>, the number of known negative samples is counted (only if the annotation is multi-label)
bouts : bool, default False
    if <code>True</code>, instead of frame counts segment counts are returned</p>

<h2 id="returns">Returns</h2>

<p>count_dictionary : dict
    a dictionary with class indices as keys and frame counts as values</p>
</div>


                            </div>
                            <div id="BehaviorStore.behaviors_dict" class="classattr">
                                        <input id="BehaviorStore.behaviors_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">behaviors_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Dict</span>:</span></span>

                <label class="view-source-button" for="BehaviorStore.behaviors_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.behaviors_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.behaviors_dict-555"><a href="#BehaviorStore.behaviors_dict-555"><span class="linenos">555</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.behaviors_dict-556"><a href="#BehaviorStore.behaviors_dict-556"><span class="linenos">556</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">behaviors_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="BehaviorStore.behaviors_dict-557"><a href="#BehaviorStore.behaviors_dict-557"><span class="linenos">557</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary of class names.</span>
</span><span id="BehaviorStore.behaviors_dict-558"><a href="#BehaviorStore.behaviors_dict-558"><span class="linenos">558</span></a>
</span><span id="BehaviorStore.behaviors_dict-559"><a href="#BehaviorStore.behaviors_dict-559"><span class="linenos">559</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore.behaviors_dict-560"><a href="#BehaviorStore.behaviors_dict-560"><span class="linenos">560</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore.behaviors_dict-561"><a href="#BehaviorStore.behaviors_dict-561"><span class="linenos">561</span></a><span class="sd">        behavior_dictionary: dict</span>
</span><span id="BehaviorStore.behaviors_dict-562"><a href="#BehaviorStore.behaviors_dict-562"><span class="linenos">562</span></a><span class="sd">            a dictionary with class indices as keys and class names as values</span>
</span><span id="BehaviorStore.behaviors_dict-563"><a href="#BehaviorStore.behaviors_dict-563"><span class="linenos">563</span></a>
</span><span id="BehaviorStore.behaviors_dict-564"><a href="#BehaviorStore.behaviors_dict-564"><span class="linenos">564</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get a dictionary of class names.</p>

<h2 id="returns">Returns</h2>

<p>behavior_dictionary: dict
    a dictionary with class indices as keys and class names as values</p>
</div>


                            </div>
                            <div id="BehaviorStore.annotation_class" class="classattr">
                                        <input id="BehaviorStore.annotation_class-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">annotation_class</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="BehaviorStore.annotation_class-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.annotation_class"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.annotation_class-566"><a href="#BehaviorStore.annotation_class-566"><span class="linenos">566</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.annotation_class-567"><a href="#BehaviorStore.annotation_class-567"><span class="linenos">567</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">annotation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="BehaviorStore.annotation_class-568"><a href="#BehaviorStore.annotation_class-568"><span class="linenos">568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the type of annotation (&#39;exclusive_classification&#39;, &#39;nonexclusive_classification&#39;, more coming soon).</span>
</span><span id="BehaviorStore.annotation_class-569"><a href="#BehaviorStore.annotation_class-569"><span class="linenos">569</span></a>
</span><span id="BehaviorStore.annotation_class-570"><a href="#BehaviorStore.annotation_class-570"><span class="linenos">570</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore.annotation_class-571"><a href="#BehaviorStore.annotation_class-571"><span class="linenos">571</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore.annotation_class-572"><a href="#BehaviorStore.annotation_class-572"><span class="linenos">572</span></a><span class="sd">        annotation_class : str</span>
</span><span id="BehaviorStore.annotation_class-573"><a href="#BehaviorStore.annotation_class-573"><span class="linenos">573</span></a><span class="sd">            the type of annotation</span>
</span><span id="BehaviorStore.annotation_class-574"><a href="#BehaviorStore.annotation_class-574"><span class="linenos">574</span></a>
</span><span id="BehaviorStore.annotation_class-575"><a href="#BehaviorStore.annotation_class-575"><span class="linenos">575</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the type of annotation ('exclusive_classification', 'nonexclusive_classification', more coming soon).</p>

<h2 id="returns">Returns</h2>

<p>annotation_class : str
    the type of annotation</p>
</div>


                            </div>
                            <div id="BehaviorStore.size" class="classattr">
                                        <input id="BehaviorStore.size-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">size</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="BehaviorStore.size-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.size"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.size-577"><a href="#BehaviorStore.size-577"><span class="linenos">577</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.size-578"><a href="#BehaviorStore.size-578"><span class="linenos">578</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="BehaviorStore.size-579"><a href="#BehaviorStore.size-579"><span class="linenos">579</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the total number of frames in the data.</span>
</span><span id="BehaviorStore.size-580"><a href="#BehaviorStore.size-580"><span class="linenos">580</span></a>
</span><span id="BehaviorStore.size-581"><a href="#BehaviorStore.size-581"><span class="linenos">581</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore.size-582"><a href="#BehaviorStore.size-582"><span class="linenos">582</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore.size-583"><a href="#BehaviorStore.size-583"><span class="linenos">583</span></a><span class="sd">        size : int</span>
</span><span id="BehaviorStore.size-584"><a href="#BehaviorStore.size-584"><span class="linenos">584</span></a><span class="sd">            the total number of frames</span>
</span><span id="BehaviorStore.size-585"><a href="#BehaviorStore.size-585"><span class="linenos">585</span></a>
</span><span id="BehaviorStore.size-586"><a href="#BehaviorStore.size-586"><span class="linenos">586</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the total number of frames in the data.</p>

<h2 id="returns">Returns</h2>

<p>size : int
    the total number of frames</p>
</div>


                            </div>
                            <div id="BehaviorStore.filtered_indices" class="classattr">
                                        <input id="BehaviorStore.filtered_indices-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">filtered_indices</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="BehaviorStore.filtered_indices-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.filtered_indices"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.filtered_indices-588"><a href="#BehaviorStore.filtered_indices-588"><span class="linenos">588</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.filtered_indices-589"><a href="#BehaviorStore.filtered_indices-589"><span class="linenos">589</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">filtered_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="BehaviorStore.filtered_indices-590"><a href="#BehaviorStore.filtered_indices-590"><span class="linenos">590</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the indices of the samples that should be removed.</span>
</span><span id="BehaviorStore.filtered_indices-591"><a href="#BehaviorStore.filtered_indices-591"><span class="linenos">591</span></a>
</span><span id="BehaviorStore.filtered_indices-592"><a href="#BehaviorStore.filtered_indices-592"><span class="linenos">592</span></a><span class="sd">        Choosing the indices can be based on any kind of filering defined in the __init__ function by the data</span>
</span><span id="BehaviorStore.filtered_indices-593"><a href="#BehaviorStore.filtered_indices-593"><span class="linenos">593</span></a><span class="sd">        parameters</span>
</span><span id="BehaviorStore.filtered_indices-594"><a href="#BehaviorStore.filtered_indices-594"><span class="linenos">594</span></a>
</span><span id="BehaviorStore.filtered_indices-595"><a href="#BehaviorStore.filtered_indices-595"><span class="linenos">595</span></a><span class="sd">        Returns</span>
</span><span id="BehaviorStore.filtered_indices-596"><a href="#BehaviorStore.filtered_indices-596"><span class="linenos">596</span></a><span class="sd">        -------</span>
</span><span id="BehaviorStore.filtered_indices-597"><a href="#BehaviorStore.filtered_indices-597"><span class="linenos">597</span></a><span class="sd">        indices_to_remove : list</span>
</span><span id="BehaviorStore.filtered_indices-598"><a href="#BehaviorStore.filtered_indices-598"><span class="linenos">598</span></a><span class="sd">            a list of integer indices that should be removed</span>
</span><span id="BehaviorStore.filtered_indices-599"><a href="#BehaviorStore.filtered_indices-599"><span class="linenos">599</span></a>
</span><span id="BehaviorStore.filtered_indices-600"><a href="#BehaviorStore.filtered_indices-600"><span class="linenos">600</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Return the indices of the samples that should be removed.</p>

<p>Choosing the indices can be based on any kind of filering defined in the __init__ function by the data
parameters</p>

<h2 id="returns">Returns</h2>

<p>indices_to_remove : list
    a list of integer indices that should be removed</p>
</div>


                            </div>
                            <div id="BehaviorStore.set_pseudo_labels" class="classattr">
                                        <input id="BehaviorStore.set_pseudo_labels-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">set_pseudo_labels</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">labels</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="BehaviorStore.set_pseudo_labels-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BehaviorStore.set_pseudo_labels"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BehaviorStore.set_pseudo_labels-602"><a href="#BehaviorStore.set_pseudo_labels-602"><span class="linenos">602</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="BehaviorStore.set_pseudo_labels-603"><a href="#BehaviorStore.set_pseudo_labels-603"><span class="linenos">603</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_pseudo_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="BehaviorStore.set_pseudo_labels-604"><a href="#BehaviorStore.set_pseudo_labels-604"><span class="linenos">604</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set pseudo labels to the unlabeled data.</span>
</span><span id="BehaviorStore.set_pseudo_labels-605"><a href="#BehaviorStore.set_pseudo_labels-605"><span class="linenos">605</span></a>
</span><span id="BehaviorStore.set_pseudo_labels-606"><a href="#BehaviorStore.set_pseudo_labels-606"><span class="linenos">606</span></a><span class="sd">        Parameters</span>
</span><span id="BehaviorStore.set_pseudo_labels-607"><a href="#BehaviorStore.set_pseudo_labels-607"><span class="linenos">607</span></a><span class="sd">        ----------</span>
</span><span id="BehaviorStore.set_pseudo_labels-608"><a href="#BehaviorStore.set_pseudo_labels-608"><span class="linenos">608</span></a><span class="sd">        labels : torch.Tensor</span>
</span><span id="BehaviorStore.set_pseudo_labels-609"><a href="#BehaviorStore.set_pseudo_labels-609"><span class="linenos">609</span></a><span class="sd">            a tensor of pseudo-labels for the unlabeled data</span>
</span><span id="BehaviorStore.set_pseudo_labels-610"><a href="#BehaviorStore.set_pseudo_labels-610"><span class="linenos">610</span></a>
</span><span id="BehaviorStore.set_pseudo_labels-611"><a href="#BehaviorStore.set_pseudo_labels-611"><span class="linenos">611</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Set pseudo labels to the unlabeled data.</p>

<h2 id="parameters">Parameters</h2>

<p>labels : torch.Tensor
    a tensor of pseudo-labels for the unlabeled data</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Store">Store</a></dt>
                                <dd id="BehaviorStore.remove" class="function"><a href="#Store.remove">remove</a></dd>
                <dd id="BehaviorStore.key_objects" class="function"><a href="#Store.key_objects">key_objects</a></dd>
                <dd id="BehaviorStore.load_from_key_objects" class="function"><a href="#Store.load_from_key_objects">load_from_key_objects</a></dd>
                <dd id="BehaviorStore.to_ram" class="function"><a href="#Store.to_ram">to_ram</a></dd>
                <dd id="BehaviorStore.get_original_coordinates" class="function"><a href="#Store.get_original_coordinates">get_original_coordinates</a></dd>
                <dd id="BehaviorStore.create_subsample" class="function"><a href="#Store.create_subsample">create_subsample</a></dd>
                <dd id="BehaviorStore.get_file_ids" class="function"><a href="#Store.get_file_ids">get_file_ids</a></dd>
                <dd id="BehaviorStore.get_parameters" class="function"><a href="#Store.get_parameters">get_parameters</a></dd>
                <dd id="BehaviorStore.new" class="function"><a href="#Store.new">new</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PoseInputStore">
                            <input id="PoseInputStore-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PoseInputStore</span><wbr>(<span class="base"><a href="#InputStore">InputStore</a></span>):

                <label class="view-source-button" for="PoseInputStore-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PoseInputStore"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PoseInputStore-614"><a href="#PoseInputStore-614"><span class="linenos">614</span></a><span class="k">class</span><span class="w"> </span><span class="nc">PoseInputStore</span><span class="p">(</span><span class="n">InputStore</span><span class="p">):</span>
</span><span id="PoseInputStore-615"><a href="#PoseInputStore-615"><span class="linenos">615</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A subclass of `InputStore` for pose estimation data.</span>
</span><span id="PoseInputStore-616"><a href="#PoseInputStore-616"><span class="linenos">616</span></a>
</span><span id="PoseInputStore-617"><a href="#PoseInputStore-617"><span class="linenos">617</span></a><span class="sd">    Contains methods used by pose estimation feature extractors.</span>
</span><span id="PoseInputStore-618"><a href="#PoseInputStore-618"><span class="linenos">618</span></a><span class="sd">    All methods receive a data dictionary as input. This dictionary is the same as what is passed to the</span>
</span><span id="PoseInputStore-619"><a href="#PoseInputStore-619"><span class="linenos">619</span></a><span class="sd">    feature extractor and the only limitations for the structure are that it has to relate to one video id</span>
</span><span id="PoseInputStore-620"><a href="#PoseInputStore-620"><span class="linenos">620</span></a><span class="sd">    and have clip ids as keys. Read the documentation at `dlc2action.data` to find out more about videos</span>
</span><span id="PoseInputStore-621"><a href="#PoseInputStore-621"><span class="linenos">621</span></a><span class="sd">    and clips.</span>
</span><span id="PoseInputStore-622"><a href="#PoseInputStore-622"><span class="linenos">622</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="PoseInputStore-623"><a href="#PoseInputStore-623"><span class="linenos">623</span></a>
</span><span id="PoseInputStore-624"><a href="#PoseInputStore-624"><span class="linenos">624</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_likelihood</span><span class="p">(</span>
</span><span id="PoseInputStore-625"><a href="#PoseInputStore-625"><span class="linenos">625</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="PoseInputStore-626"><a href="#PoseInputStore-626"><span class="linenos">626</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="PoseInputStore-627"><a href="#PoseInputStore-627"><span class="linenos">627</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the likelihood values.</span>
</span><span id="PoseInputStore-628"><a href="#PoseInputStore-628"><span class="linenos">628</span></a>
</span><span id="PoseInputStore-629"><a href="#PoseInputStore-629"><span class="linenos">629</span></a><span class="sd">        Parameters</span>
</span><span id="PoseInputStore-630"><a href="#PoseInputStore-630"><span class="linenos">630</span></a><span class="sd">        ----------</span>
</span><span id="PoseInputStore-631"><a href="#PoseInputStore-631"><span class="linenos">631</span></a><span class="sd">        data_dict : dict</span>
</span><span id="PoseInputStore-632"><a href="#PoseInputStore-632"><span class="linenos">632</span></a><span class="sd">            the data dictionary</span>
</span><span id="PoseInputStore-633"><a href="#PoseInputStore-633"><span class="linenos">633</span></a><span class="sd">        clip_id : str</span>
</span><span id="PoseInputStore-634"><a href="#PoseInputStore-634"><span class="linenos">634</span></a><span class="sd">            the clip id</span>
</span><span id="PoseInputStore-635"><a href="#PoseInputStore-635"><span class="linenos">635</span></a><span class="sd">        bodypart : str</span>
</span><span id="PoseInputStore-636"><a href="#PoseInputStore-636"><span class="linenos">636</span></a><span class="sd">            the name of the body part</span>
</span><span id="PoseInputStore-637"><a href="#PoseInputStore-637"><span class="linenos">637</span></a>
</span><span id="PoseInputStore-638"><a href="#PoseInputStore-638"><span class="linenos">638</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore-639"><a href="#PoseInputStore-639"><span class="linenos">639</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore-640"><a href="#PoseInputStore-640"><span class="linenos">640</span></a><span class="sd">        likelihoods: np.ndarrray | None</span>
</span><span id="PoseInputStore-641"><a href="#PoseInputStore-641"><span class="linenos">641</span></a><span class="sd">            `None` if the dataset doesn&#39;t have likelihoods or an array of shape (#timestamps)</span>
</span><span id="PoseInputStore-642"><a href="#PoseInputStore-642"><span class="linenos">642</span></a>
</span><span id="PoseInputStore-643"><a href="#PoseInputStore-643"><span class="linenos">643</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PoseInputStore-644"><a href="#PoseInputStore-644"><span class="linenos">644</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="PoseInputStore-645"><a href="#PoseInputStore-645"><span class="linenos">645</span></a>
</span><span id="PoseInputStore-646"><a href="#PoseInputStore-646"><span class="linenos">646</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="PoseInputStore-647"><a href="#PoseInputStore-647"><span class="linenos">647</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="PoseInputStore-648"><a href="#PoseInputStore-648"><span class="linenos">648</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the coordinates array of a specific body part in a specific clip.</span>
</span><span id="PoseInputStore-649"><a href="#PoseInputStore-649"><span class="linenos">649</span></a>
</span><span id="PoseInputStore-650"><a href="#PoseInputStore-650"><span class="linenos">650</span></a><span class="sd">        Parameters</span>
</span><span id="PoseInputStore-651"><a href="#PoseInputStore-651"><span class="linenos">651</span></a><span class="sd">        ----------</span>
</span><span id="PoseInputStore-652"><a href="#PoseInputStore-652"><span class="linenos">652</span></a><span class="sd">        data_dict : dict</span>
</span><span id="PoseInputStore-653"><a href="#PoseInputStore-653"><span class="linenos">653</span></a><span class="sd">            the data dictionary</span>
</span><span id="PoseInputStore-654"><a href="#PoseInputStore-654"><span class="linenos">654</span></a><span class="sd">        clip_id : str</span>
</span><span id="PoseInputStore-655"><a href="#PoseInputStore-655"><span class="linenos">655</span></a><span class="sd">            the clip id</span>
</span><span id="PoseInputStore-656"><a href="#PoseInputStore-656"><span class="linenos">656</span></a><span class="sd">        bodypart : str</span>
</span><span id="PoseInputStore-657"><a href="#PoseInputStore-657"><span class="linenos">657</span></a><span class="sd">            the name of the body part</span>
</span><span id="PoseInputStore-658"><a href="#PoseInputStore-658"><span class="linenos">658</span></a>
</span><span id="PoseInputStore-659"><a href="#PoseInputStore-659"><span class="linenos">659</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore-660"><a href="#PoseInputStore-660"><span class="linenos">660</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore-661"><a href="#PoseInputStore-661"><span class="linenos">661</span></a><span class="sd">        coords : np.ndarray</span>
</span><span id="PoseInputStore-662"><a href="#PoseInputStore-662"><span class="linenos">662</span></a><span class="sd">            the coordinates array of shape (#timesteps, #coordinates)</span>
</span><span id="PoseInputStore-663"><a href="#PoseInputStore-663"><span class="linenos">663</span></a>
</span><span id="PoseInputStore-664"><a href="#PoseInputStore-664"><span class="linenos">664</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PoseInputStore-665"><a href="#PoseInputStore-665"><span class="linenos">665</span></a>
</span><span id="PoseInputStore-666"><a href="#PoseInputStore-666"><span class="linenos">666</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="PoseInputStore-667"><a href="#PoseInputStore-667"><span class="linenos">667</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_bodyparts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="PoseInputStore-668"><a href="#PoseInputStore-668"><span class="linenos">668</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of bodypart names.</span>
</span><span id="PoseInputStore-669"><a href="#PoseInputStore-669"><span class="linenos">669</span></a>
</span><span id="PoseInputStore-670"><a href="#PoseInputStore-670"><span class="linenos">670</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore-671"><a href="#PoseInputStore-671"><span class="linenos">671</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore-672"><a href="#PoseInputStore-672"><span class="linenos">672</span></a><span class="sd">        bodyparts : list</span>
</span><span id="PoseInputStore-673"><a href="#PoseInputStore-673"><span class="linenos">673</span></a><span class="sd">            a list of string or integer body part names</span>
</span><span id="PoseInputStore-674"><a href="#PoseInputStore-674"><span class="linenos">674</span></a>
</span><span id="PoseInputStore-675"><a href="#PoseInputStore-675"><span class="linenos">675</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PoseInputStore-676"><a href="#PoseInputStore-676"><span class="linenos">676</span></a>
</span><span id="PoseInputStore-677"><a href="#PoseInputStore-677"><span class="linenos">677</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="PoseInputStore-678"><a href="#PoseInputStore-678"><span class="linenos">678</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_n_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="PoseInputStore-679"><a href="#PoseInputStore-679"><span class="linenos">679</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of the clip.</span>
</span><span id="PoseInputStore-680"><a href="#PoseInputStore-680"><span class="linenos">680</span></a>
</span><span id="PoseInputStore-681"><a href="#PoseInputStore-681"><span class="linenos">681</span></a><span class="sd">        Parameters</span>
</span><span id="PoseInputStore-682"><a href="#PoseInputStore-682"><span class="linenos">682</span></a><span class="sd">        ----------</span>
</span><span id="PoseInputStore-683"><a href="#PoseInputStore-683"><span class="linenos">683</span></a><span class="sd">        data_dict : dict</span>
</span><span id="PoseInputStore-684"><a href="#PoseInputStore-684"><span class="linenos">684</span></a><span class="sd">            the data dictionary</span>
</span><span id="PoseInputStore-685"><a href="#PoseInputStore-685"><span class="linenos">685</span></a><span class="sd">        clip_id : str</span>
</span><span id="PoseInputStore-686"><a href="#PoseInputStore-686"><span class="linenos">686</span></a><span class="sd">            the clip id</span>
</span><span id="PoseInputStore-687"><a href="#PoseInputStore-687"><span class="linenos">687</span></a>
</span><span id="PoseInputStore-688"><a href="#PoseInputStore-688"><span class="linenos">688</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore-689"><a href="#PoseInputStore-689"><span class="linenos">689</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore-690"><a href="#PoseInputStore-690"><span class="linenos">690</span></a><span class="sd">        n_frames : int</span>
</span><span id="PoseInputStore-691"><a href="#PoseInputStore-691"><span class="linenos">691</span></a><span class="sd">            the length of the clip</span>
</span><span id="PoseInputStore-692"><a href="#PoseInputStore-692"><span class="linenos">692</span></a>
</span><span id="PoseInputStore-693"><a href="#PoseInputStore-693"><span class="linenos">693</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>A subclass of <code><a href="#InputStore">InputStore</a></code> for pose estimation data.</p>

<p>Contains methods used by pose estimation feature extractors.
All methods receive a data dictionary as input. This dictionary is the same as what is passed to the
feature extractor and the only limitations for the structure are that it has to relate to one video id
and have clip ids as keys. Read the documentation at <code><a href="../data.html">dlc2action.data</a></code> to find out more about videos
and clips.</p>
</div>


                            <div id="PoseInputStore.get_likelihood" class="classattr">
                                        <input id="PoseInputStore.get_likelihood-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_likelihood</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span>,</span><span class="param">	<span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">Optional</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="PoseInputStore.get_likelihood-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PoseInputStore.get_likelihood"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PoseInputStore.get_likelihood-624"><a href="#PoseInputStore.get_likelihood-624"><span class="linenos">624</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_likelihood</span><span class="p">(</span>
</span><span id="PoseInputStore.get_likelihood-625"><a href="#PoseInputStore.get_likelihood-625"><span class="linenos">625</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="PoseInputStore.get_likelihood-626"><a href="#PoseInputStore.get_likelihood-626"><span class="linenos">626</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="PoseInputStore.get_likelihood-627"><a href="#PoseInputStore.get_likelihood-627"><span class="linenos">627</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the likelihood values.</span>
</span><span id="PoseInputStore.get_likelihood-628"><a href="#PoseInputStore.get_likelihood-628"><span class="linenos">628</span></a>
</span><span id="PoseInputStore.get_likelihood-629"><a href="#PoseInputStore.get_likelihood-629"><span class="linenos">629</span></a><span class="sd">        Parameters</span>
</span><span id="PoseInputStore.get_likelihood-630"><a href="#PoseInputStore.get_likelihood-630"><span class="linenos">630</span></a><span class="sd">        ----------</span>
</span><span id="PoseInputStore.get_likelihood-631"><a href="#PoseInputStore.get_likelihood-631"><span class="linenos">631</span></a><span class="sd">        data_dict : dict</span>
</span><span id="PoseInputStore.get_likelihood-632"><a href="#PoseInputStore.get_likelihood-632"><span class="linenos">632</span></a><span class="sd">            the data dictionary</span>
</span><span id="PoseInputStore.get_likelihood-633"><a href="#PoseInputStore.get_likelihood-633"><span class="linenos">633</span></a><span class="sd">        clip_id : str</span>
</span><span id="PoseInputStore.get_likelihood-634"><a href="#PoseInputStore.get_likelihood-634"><span class="linenos">634</span></a><span class="sd">            the clip id</span>
</span><span id="PoseInputStore.get_likelihood-635"><a href="#PoseInputStore.get_likelihood-635"><span class="linenos">635</span></a><span class="sd">        bodypart : str</span>
</span><span id="PoseInputStore.get_likelihood-636"><a href="#PoseInputStore.get_likelihood-636"><span class="linenos">636</span></a><span class="sd">            the name of the body part</span>
</span><span id="PoseInputStore.get_likelihood-637"><a href="#PoseInputStore.get_likelihood-637"><span class="linenos">637</span></a>
</span><span id="PoseInputStore.get_likelihood-638"><a href="#PoseInputStore.get_likelihood-638"><span class="linenos">638</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore.get_likelihood-639"><a href="#PoseInputStore.get_likelihood-639"><span class="linenos">639</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore.get_likelihood-640"><a href="#PoseInputStore.get_likelihood-640"><span class="linenos">640</span></a><span class="sd">        likelihoods: np.ndarrray | None</span>
</span><span id="PoseInputStore.get_likelihood-641"><a href="#PoseInputStore.get_likelihood-641"><span class="linenos">641</span></a><span class="sd">            `None` if the dataset doesn&#39;t have likelihoods or an array of shape (#timestamps)</span>
</span><span id="PoseInputStore.get_likelihood-642"><a href="#PoseInputStore.get_likelihood-642"><span class="linenos">642</span></a>
</span><span id="PoseInputStore.get_likelihood-643"><a href="#PoseInputStore.get_likelihood-643"><span class="linenos">643</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PoseInputStore.get_likelihood-644"><a href="#PoseInputStore.get_likelihood-644"><span class="linenos">644</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get the likelihood values.</p>

<h2 id="parameters">Parameters</h2>

<p>data_dict : dict
    the data dictionary
clip_id : str
    the clip id
bodypart : str
    the name of the body part</p>

<h2 id="returns">Returns</h2>

<p>likelihoods: np.ndarrray | None
    <code>None</code> if the dataset doesn't have likelihoods or an array of shape (#timestamps)</p>
</div>


                            </div>
                            <div id="PoseInputStore.get_coords" class="classattr">
                                        <input id="PoseInputStore.get_coords-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_coords</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span>, </span><span class="param"><span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span>:</span></span>

                <label class="view-source-button" for="PoseInputStore.get_coords-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PoseInputStore.get_coords"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PoseInputStore.get_coords-646"><a href="#PoseInputStore.get_coords-646"><span class="linenos">646</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="PoseInputStore.get_coords-647"><a href="#PoseInputStore.get_coords-647"><span class="linenos">647</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bodypart</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="PoseInputStore.get_coords-648"><a href="#PoseInputStore.get_coords-648"><span class="linenos">648</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the coordinates array of a specific body part in a specific clip.</span>
</span><span id="PoseInputStore.get_coords-649"><a href="#PoseInputStore.get_coords-649"><span class="linenos">649</span></a>
</span><span id="PoseInputStore.get_coords-650"><a href="#PoseInputStore.get_coords-650"><span class="linenos">650</span></a><span class="sd">        Parameters</span>
</span><span id="PoseInputStore.get_coords-651"><a href="#PoseInputStore.get_coords-651"><span class="linenos">651</span></a><span class="sd">        ----------</span>
</span><span id="PoseInputStore.get_coords-652"><a href="#PoseInputStore.get_coords-652"><span class="linenos">652</span></a><span class="sd">        data_dict : dict</span>
</span><span id="PoseInputStore.get_coords-653"><a href="#PoseInputStore.get_coords-653"><span class="linenos">653</span></a><span class="sd">            the data dictionary</span>
</span><span id="PoseInputStore.get_coords-654"><a href="#PoseInputStore.get_coords-654"><span class="linenos">654</span></a><span class="sd">        clip_id : str</span>
</span><span id="PoseInputStore.get_coords-655"><a href="#PoseInputStore.get_coords-655"><span class="linenos">655</span></a><span class="sd">            the clip id</span>
</span><span id="PoseInputStore.get_coords-656"><a href="#PoseInputStore.get_coords-656"><span class="linenos">656</span></a><span class="sd">        bodypart : str</span>
</span><span id="PoseInputStore.get_coords-657"><a href="#PoseInputStore.get_coords-657"><span class="linenos">657</span></a><span class="sd">            the name of the body part</span>
</span><span id="PoseInputStore.get_coords-658"><a href="#PoseInputStore.get_coords-658"><span class="linenos">658</span></a>
</span><span id="PoseInputStore.get_coords-659"><a href="#PoseInputStore.get_coords-659"><span class="linenos">659</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore.get_coords-660"><a href="#PoseInputStore.get_coords-660"><span class="linenos">660</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore.get_coords-661"><a href="#PoseInputStore.get_coords-661"><span class="linenos">661</span></a><span class="sd">        coords : np.ndarray</span>
</span><span id="PoseInputStore.get_coords-662"><a href="#PoseInputStore.get_coords-662"><span class="linenos">662</span></a><span class="sd">            the coordinates array of shape (#timesteps, #coordinates)</span>
</span><span id="PoseInputStore.get_coords-663"><a href="#PoseInputStore.get_coords-663"><span class="linenos">663</span></a>
</span><span id="PoseInputStore.get_coords-664"><a href="#PoseInputStore.get_coords-664"><span class="linenos">664</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the coordinates array of a specific body part in a specific clip.</p>

<h2 id="parameters">Parameters</h2>

<p>data_dict : dict
    the data dictionary
clip_id : str
    the clip id
bodypart : str
    the name of the body part</p>

<h2 id="returns">Returns</h2>

<p>coords : np.ndarray
    the coordinates array of shape (#timesteps, #coordinates)</p>
</div>


                            </div>
                            <div id="PoseInputStore.get_bodyparts" class="classattr">
                                        <input id="PoseInputStore.get_bodyparts-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_bodyparts</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span>:</span></span>

                <label class="view-source-button" for="PoseInputStore.get_bodyparts-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PoseInputStore.get_bodyparts"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PoseInputStore.get_bodyparts-666"><a href="#PoseInputStore.get_bodyparts-666"><span class="linenos">666</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="PoseInputStore.get_bodyparts-667"><a href="#PoseInputStore.get_bodyparts-667"><span class="linenos">667</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_bodyparts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
</span><span id="PoseInputStore.get_bodyparts-668"><a href="#PoseInputStore.get_bodyparts-668"><span class="linenos">668</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of bodypart names.</span>
</span><span id="PoseInputStore.get_bodyparts-669"><a href="#PoseInputStore.get_bodyparts-669"><span class="linenos">669</span></a>
</span><span id="PoseInputStore.get_bodyparts-670"><a href="#PoseInputStore.get_bodyparts-670"><span class="linenos">670</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore.get_bodyparts-671"><a href="#PoseInputStore.get_bodyparts-671"><span class="linenos">671</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore.get_bodyparts-672"><a href="#PoseInputStore.get_bodyparts-672"><span class="linenos">672</span></a><span class="sd">        bodyparts : list</span>
</span><span id="PoseInputStore.get_bodyparts-673"><a href="#PoseInputStore.get_bodyparts-673"><span class="linenos">673</span></a><span class="sd">            a list of string or integer body part names</span>
</span><span id="PoseInputStore.get_bodyparts-674"><a href="#PoseInputStore.get_bodyparts-674"><span class="linenos">674</span></a>
</span><span id="PoseInputStore.get_bodyparts-675"><a href="#PoseInputStore.get_bodyparts-675"><span class="linenos">675</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of bodypart names.</p>

<h2 id="returns">Returns</h2>

<p>bodyparts : list
    a list of string or integer body part names</p>
</div>


                            </div>
                            <div id="PoseInputStore.get_n_frames" class="classattr">
                                        <input id="PoseInputStore.get_n_frames-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-abstractmethod">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">get_n_frames</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span>, </span><span class="param"><span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="PoseInputStore.get_n_frames-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PoseInputStore.get_n_frames"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PoseInputStore.get_n_frames-677"><a href="#PoseInputStore.get_n_frames-677"><span class="linenos">677</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="PoseInputStore.get_n_frames-678"><a href="#PoseInputStore.get_n_frames-678"><span class="linenos">678</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_n_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">clip_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="PoseInputStore.get_n_frames-679"><a href="#PoseInputStore.get_n_frames-679"><span class="linenos">679</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the length of the clip.</span>
</span><span id="PoseInputStore.get_n_frames-680"><a href="#PoseInputStore.get_n_frames-680"><span class="linenos">680</span></a>
</span><span id="PoseInputStore.get_n_frames-681"><a href="#PoseInputStore.get_n_frames-681"><span class="linenos">681</span></a><span class="sd">        Parameters</span>
</span><span id="PoseInputStore.get_n_frames-682"><a href="#PoseInputStore.get_n_frames-682"><span class="linenos">682</span></a><span class="sd">        ----------</span>
</span><span id="PoseInputStore.get_n_frames-683"><a href="#PoseInputStore.get_n_frames-683"><span class="linenos">683</span></a><span class="sd">        data_dict : dict</span>
</span><span id="PoseInputStore.get_n_frames-684"><a href="#PoseInputStore.get_n_frames-684"><span class="linenos">684</span></a><span class="sd">            the data dictionary</span>
</span><span id="PoseInputStore.get_n_frames-685"><a href="#PoseInputStore.get_n_frames-685"><span class="linenos">685</span></a><span class="sd">        clip_id : str</span>
</span><span id="PoseInputStore.get_n_frames-686"><a href="#PoseInputStore.get_n_frames-686"><span class="linenos">686</span></a><span class="sd">            the clip id</span>
</span><span id="PoseInputStore.get_n_frames-687"><a href="#PoseInputStore.get_n_frames-687"><span class="linenos">687</span></a>
</span><span id="PoseInputStore.get_n_frames-688"><a href="#PoseInputStore.get_n_frames-688"><span class="linenos">688</span></a><span class="sd">        Returns</span>
</span><span id="PoseInputStore.get_n_frames-689"><a href="#PoseInputStore.get_n_frames-689"><span class="linenos">689</span></a><span class="sd">        -------</span>
</span><span id="PoseInputStore.get_n_frames-690"><a href="#PoseInputStore.get_n_frames-690"><span class="linenos">690</span></a><span class="sd">        n_frames : int</span>
</span><span id="PoseInputStore.get_n_frames-691"><a href="#PoseInputStore.get_n_frames-691"><span class="linenos">691</span></a><span class="sd">            the length of the clip</span>
</span><span id="PoseInputStore.get_n_frames-692"><a href="#PoseInputStore.get_n_frames-692"><span class="linenos">692</span></a>
</span><span id="PoseInputStore.get_n_frames-693"><a href="#PoseInputStore.get_n_frames-693"><span class="linenos">693</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Get the length of the clip.</p>

<h2 id="parameters">Parameters</h2>

<p>data_dict : dict
    the data dictionary
clip_id : str
    the clip id</p>

<h2 id="returns">Returns</h2>

<p>n_frames : int
    the length of the clip</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#InputStore">InputStore</a></dt>
                                <dd id="PoseInputStore.__init__" class="function"><a href="#InputStore.__init__">InputStore</a></dd>
                <dd id="PoseInputStore.get_video_id" class="function"><a href="#InputStore.get_video_id">get_video_id</a></dd>
                <dd id="PoseInputStore.get_clip_id" class="function"><a href="#InputStore.get_clip_id">get_clip_id</a></dd>
                <dd id="PoseInputStore.get_clip_length" class="function"><a href="#InputStore.get_clip_length">get_clip_length</a></dd>
                <dd id="PoseInputStore.get_clip_start_end" class="function"><a href="#InputStore.get_clip_start_end">get_clip_start_end</a></dd>
                <dd id="PoseInputStore.get_clip_start" class="function"><a href="#InputStore.get_clip_start">get_clip_start</a></dd>
                <dd id="PoseInputStore.get_visibility" class="function"><a href="#InputStore.get_visibility">get_visibility</a></dd>
                <dd id="PoseInputStore.get_annotation_objects" class="function"><a href="#InputStore.get_annotation_objects">get_annotation_objects</a></dd>
                <dd id="PoseInputStore.get_folder" class="function"><a href="#InputStore.get_folder">get_folder</a></dd>
                <dd id="PoseInputStore.get_clip_length_from_coords" class="function"><a href="#InputStore.get_clip_length_from_coords">get_clip_length_from_coords</a></dd>
                <dd id="PoseInputStore.get_folder_order" class="function"><a href="#InputStore.get_folder_order">get_folder_order</a></dd>
                <dd id="PoseInputStore.get_video_id_order" class="function"><a href="#InputStore.get_video_id_order">get_video_id_order</a></dd>
                <dd id="PoseInputStore.get_tag" class="function"><a href="#InputStore.get_tag">get_tag</a></dd>
                <dd id="PoseInputStore.get_indices" class="function"><a href="#InputStore.get_indices">get_indices</a></dd>
                <dd id="PoseInputStore.get_tags" class="function"><a href="#InputStore.get_tags">get_tags</a></dd>

            </div>
            <div><dt><a href="#Store">Store</a></dt>
                                <dd id="PoseInputStore.remove" class="function"><a href="#Store.remove">remove</a></dd>
                <dd id="PoseInputStore.key_objects" class="function"><a href="#Store.key_objects">key_objects</a></dd>
                <dd id="PoseInputStore.load_from_key_objects" class="function"><a href="#Store.load_from_key_objects">load_from_key_objects</a></dd>
                <dd id="PoseInputStore.to_ram" class="function"><a href="#Store.to_ram">to_ram</a></dd>
                <dd id="PoseInputStore.get_original_coordinates" class="function"><a href="#Store.get_original_coordinates">get_original_coordinates</a></dd>
                <dd id="PoseInputStore.create_subsample" class="function"><a href="#Store.create_subsample">create_subsample</a></dd>
                <dd id="PoseInputStore.get_file_ids" class="function"><a href="#Store.get_file_ids">get_file_ids</a></dd>
                <dd id="PoseInputStore.get_parameters" class="function"><a href="#Store.get_parameters">get_parameters</a></dd>
                <dd id="PoseInputStore.new" class="function"><a href="#Store.new">new</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>